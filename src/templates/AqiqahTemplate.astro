---
/**
 * AQIQAH TEMPLATE - Premium High-Converting Design
 *
 * Key Features:
 * - Emotional baby-focused hero with Islamic blessings
 * - Clear Boy/Girl pricing with "per Sunnah" messaging
 * - Certificate preview and report promise
 * - 3-step simple process
 * - FAQ accordion
 * - Parent testimonials
 * - Child name input for personalization
 * - Urgency elements (same-day processing)
 * - Mobile-first sticky CTA
 */

import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';

interface Props {
  campaign: {
    id: string;
    title: string;
    subtitle?: string;
    slug: string;
    featured_image?: string;
    description?: string;
    goal_amount?: number;
    raised_amount?: number;
    is_zakat_eligible?: boolean;
  };
  donationBoxTemplate?: string;
}

const { campaign, donationBoxTemplate } = Astro.props;

// Aqiqah Package Options
const packages = [
  {
    id: 'girl',
    name: 'Baby Girl',
    icon: 'üëß',
    animals: 1,
    price: 150,
    description: '1 Goat/Sheep sacrificed according to Sunnah',
    popular: false,
    color: 'pink',
    gradient: 'from-pink-500 to-rose-500',
    bgLight: 'bg-pink-50',
    borderColor: 'border-pink-200',
  },
  {
    id: 'boy',
    name: 'Baby Boy',
    icon: 'üë¶',
    animals: 2,
    price: 300,
    description: '2 Goats/Sheep sacrificed according to Sunnah',
    popular: false,
    color: 'blue',
    gradient: 'from-blue-500 to-indigo-500',
    bgLight: 'bg-blue-50',
    borderColor: 'border-blue-200',
  },
  {
    id: 'sadaqah',
    name: 'Sadaqah',
    icon: 'coins',
    animals: 0,
    price: 100,
    description: 'Add a gift of Sadaqah for your baby\'s well-being.',
    popular: false,
    color: 'orange',
    gradient: 'from-orange-500 to-amber-500',
    bgLight: 'bg-orange-50',
    borderColor: 'border-orange-200',
    isSadaqah: true,
  },
];

// How it works steps
const steps = [
  {
    number: 1,
    title: 'Choose & Pay',
    description: 'Select your package and enter your child\'s name. Secure payment via Stripe.',
    icon: 'select',
    time: '2 min',
  },
  {
    number: 2,
    title: 'We Perform Aqiqah',
    description: 'Our team performs the sacrifice within 24 hours following Islamic guidelines.',
    icon: 'perform',
    time: '24 hours',
  },
  {
    number: 3,
    title: 'Receive Certificate',
    description: 'Get a personalized certificate with your child\'s name and confirmation.',
    icon: 'certificate',
    time: '5 days',
  },
];

// What makes us different
const features = [
  {
    icon: 'mosque',
    title: 'Shariah Compliant',
    description: 'All sacrifices performed under religious supervision following Sunnah guidelines',
  },
  {
    icon: 'clock',
    title: 'Fast Processing',
    description: 'Aqiqah performed within 3 business days from your order',
  },
  {
    icon: 'document',
    title: 'Certificate Included',
    description: 'Beautiful personalized certificate with your child\'s name',
  },
  {
    icon: 'heart',
    title: '100% Distributed',
    description: 'All meat distributed to families in need - Sadaqah Jariyah',
  },
  {
    icon: 'globe',
    title: 'Multiple Countries',
    description: 'Operations in Pakistan, Bangladesh, Yemen, and more',
  },
  {
    icon: 'support',
    title: 'Dedicated Support',
    description: 'Questions? Our team is available to help you',
  },
];

// FAQ items
const faqs = [
  {
    question: 'What is Aqiqah?',
    answer: 'Aqiqah is a Sunnah practice performed to celebrate the birth of a child. It involves sacrificing an animal (goat or sheep) - one for a girl and two for a boy - as an act of gratitude to Allah. The meat is then distributed to family, friends, and those in need.',
  },
  {
    question: 'When should Aqiqah be performed?',
    answer: 'Traditionally, Aqiqah is performed on the 7th day after birth. However, it can also be done on the 14th or 21st day, or any time after. Many scholars agree it can be performed at any age if not done earlier. It\'s never too late!',
  },
  {
    question: 'Is Aqiqah obligatory (Fard)?',
    answer: 'Aqiqah is considered Sunnah Mu\'akkadah (highly emphasized Sunnah) according to the majority of scholars, including the Shafi\'i, Maliki, and Hanbali schools. While not obligatory (Fard), it is strongly recommended.',
  },
  {
    question: 'Why 2 animals for a boy and 1 for a girl?',
    answer: 'This is based on the hadith of Prophet Muhammad (peace be upon him) who said: "For a boy, two sheep of similar age, and for a girl, one sheep." (Abu Dawud). This is the Sunnah practice.',
  },
  {
    question: 'Can I perform Aqiqah for myself as an adult?',
    answer: 'Yes! If your parents did not perform Aqiqah for you, you can perform it for yourself as an adult. This is supported by several hadith and scholarly opinions.',
  },
  {
    question: 'What happens to the meat?',
    answer: 'The meat from your Aqiqah is distributed to families in need in the country where the sacrifice takes place. This acts as Sadaqah (charity) on behalf of your child, multiplying the blessings.',
  },
  {
    question: 'Will I receive proof of my Aqiqah?',
    answer: 'Yes! You will receive a personalized digital certificate with your child\'s name within 5 days of the sacrifice, confirming the Aqiqah was performed according to Islamic guidelines.',
  },
  {
    question: 'In which countries do you perform Aqiqah?',
    answer: 'We currently perform Aqiqah in Pakistan, Bangladesh, Yemen, and other regions. The meat is distributed locally to maximize impact and reach families in need.',
  },
];

// Testimonials
const testimonials = [
  {
    name: 'Sarah Ahmed',
    location: 'New Jersey',
    text: 'Alhamdulillah, the process was so simple. I received the certificate within a week and knowing the meat went to families in need made it even more special.',
    baby: 'Baby Yusuf',
    rating: 5,
  },
  {
    name: 'Omar Khan',
    location: 'California',
    text: 'We were worried about finding a trustworthy service. Qurbani Foundation made it easy - everything was transparent and we got our certificate with our daughter\'s name beautifully designed.',
    baby: 'Baby Aisha',
    rating: 5,
  },
  {
    name: 'Fatima Hassan',
    location: 'Texas',
    text: 'I did Aqiqah for myself as an adult since my parents hadn\'t done it. The team was so helpful and understanding. Highly recommend!',
    baby: 'Self Aqiqah',
    rating: 5,
  },
];

// Statistics
const stats = [
  { number: '1,000+', label: 'Aqiqahs Performed' },
  { number: '45,000+', label: 'Families Fed' },
  { number: '12', label: 'Countries Served' },
  { number: '4.9/5', label: 'Parent Rating' },
];
---

<Layout title={`${campaign.title} - Celebrate Your Child's Birth | Qurbani Foundation`}>
  <Navbar />

  <!-- Hero Section - Emotional & Trust-Building -->
  <section class="relative min-h-[90vh] flex items-center overflow-hidden">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
      <img
        src="/images/campaigns/aqiqah-hero.jpg"
        alt="Qurbani Foundation team selecting healthy animals for Aqiqah"
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-[#01534d]/80"></div>
    </div>

    <!-- Floating Elements -->
    <div class="absolute top-20 right-20 w-32 h-32 bg-yellow-400/20 rounded-full blur-3xl animate-pulse hidden lg:block"></div>
    <div class="absolute bottom-40 right-40 w-48 h-48 bg-teal-400/20 rounded-full blur-3xl animate-pulse hidden lg:block" style="animation-delay: 1s;"></div>

    <div class="container mx-auto px-4 py-20 relative z-10">
      <div class="max-w-4xl mx-auto text-center">
        <!-- Trust Badge -->
        <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full mb-6 border border-white/20">
          <span class="w-2 h-2 bg-green-400 rounded-full animate-pulse"></span>
          <span class="text-white/90 text-sm font-medium">1,000+ Aqiqahs Performed</span>
        </div>

        <!-- Arabic Blessing -->
        <p class="text-2xl md:text-3xl text-yellow-400 mb-4 font-arabic" style="font-family: 'Amiri', serif;">
          ÿ®Ÿéÿßÿ±ŸéŸÉŸé ÿßŸÑŸÑŸéŸëŸáŸè ŸÑŸéŸÉŸé ŸÅŸêŸä ÿßŸÑŸíŸÖŸéŸàŸíŸáŸèŸàÿ®Ÿê ŸÑŸéŸÉŸé
        </p>
        <p class="text-white/80 text-sm mb-6 italic">"May Allah bless you with what He has given you"</p>

        <!-- Main Headline -->
        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight" style="font-family: 'Signika', sans-serif;">
          Celebrate Your Child's Birth<br/>
          <span class="text-yellow-400">With Aqiqah</span>
        </h1>

        <!-- Subheadline -->
        <p class="text-xl md:text-2xl text-white/90 mb-8 leading-relaxed">
          Fulfill the blessed Sunnah of Prophet Muhammad Ô∑∫.<br class="hidden md:block"/>
          We perform Aqiqah on your behalf and feed families in need.
        </p>

        <!-- Key Points -->
        <div class="flex flex-wrap justify-center gap-4 mb-8">
          <div class="flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full">
            <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span class="text-white text-sm">Shariah Compliant</span>
          </div>
          <div class="flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full">
            <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span class="text-white text-sm">Certificate Included</span>
          </div>
          <div class="flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full">
            <svg class="w-5 h-5 text-green-400" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
            </svg>
            <span class="text-white text-sm">Done in 24-Hours</span>
          </div>
        </div>

        <!-- CTA Buttons -->
        <div class="flex flex-col sm:flex-row justify-center gap-4">
          <a href="#packages" class="inline-flex items-center justify-center gap-2 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-4 px-8 rounded-full text-lg transition-all transform hover:scale-105 shadow-lg">
            <span>Order Aqiqah Now</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
            </svg>
          </a>
          <a href="#how-it-works" class="inline-flex items-center justify-center gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white font-semibold py-4 px-8 rounded-full text-lg transition border border-white/30">
            <span>How It Works</span>
          </a>
        </div>
      </div>
    </div>

    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce hidden md:block">
      <div class="w-8 h-12 border-2 border-white/50 rounded-full flex items-start justify-center pt-2">
        <div class="w-1.5 h-3 bg-white/70 rounded-full animate-pulse"></div>
      </div>
    </div>
  </section>

  <!-- Stats Bar -->
  <section class="bg-[#01534d] py-8 border-t border-white/10">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
        {stats.map((stat) => (
          <div class="text-center">
            <p class="text-3xl md:text-4xl font-bold text-yellow-400 mb-1">{stat.number}</p>
            <p class="text-white/80 text-sm">{stat.label}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- What is Aqiqah Section -->
  <section class="py-20 bg-gradient-to-b from-gray-50 to-white">
    <div class="container mx-auto px-4">
      <div class="max-w-4xl mx-auto">
        <div class="text-center mb-12">
          <span class="inline-block px-4 py-1 bg-[#01534d]/10 text-[#01534d] rounded-full text-sm font-semibold mb-4">
            The Blessed Sunnah
          </span>
          <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6" style="font-family: 'Signika', sans-serif;">
            What is Aqiqah?
          </h2>
        </div>

        <div class="bg-white rounded-3xl shadow-xl p-8 md:p-12 border border-gray-100">
          <div class="flex flex-col md:flex-row gap-8 items-center">
            <div class="md:w-1/3 flex-shrink-0">
              <div class="w-32 h-32 mx-auto bg-gradient-to-br from-[#01534d] to-teal-600 rounded-full flex items-center justify-center shadow-lg">
                <svg class="w-16 h-16 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                </svg>
              </div>
            </div>
            <div class="md:w-2/3">
              <p class="text-lg text-gray-700 leading-relaxed mb-6">
                <strong>Aqiqah</strong> is the beautiful Islamic tradition of sacrificing an animal to celebrate the birth of a child. It is a <span class="text-[#01534d] font-semibold">Sunnah Mu'akkadah</span> (emphasized practice) of Prophet Muhammad Ô∑∫.
              </p>
              <div class="grid md:grid-cols-2 gap-4">
                <div class="flex items-start gap-3 bg-pink-50 rounded-xl p-4">
                  <span class="text-3xl">üëß</span>
                  <div>
                    <p class="font-bold text-gray-800">For a Baby Girl</p>
                    <p class="text-gray-600 text-sm">One goat or sheep is sacrificed</p>
                  </div>
                </div>
                <div class="flex items-start gap-3 bg-blue-50 rounded-xl p-4">
                  <span class="text-3xl">üë¶</span>
                  <div>
                    <p class="font-bold text-gray-800">For a Baby Boy</p>
                    <p class="text-gray-600 text-sm">Two goats or sheep are sacrificed</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Hadith -->
          <div class="mt-8 pt-8 border-t border-gray-100">
            <blockquote class="text-center">
              <p class="text-lg text-gray-700 italic mb-4">
                "Every child is in pledge for his Aqiqah which is sacrificed for him on his seventh day, and he is named on it, and his head is shaved."
              </p>
              <cite class="text-[#01534d] font-semibold">‚Äî Sunan Abu Dawud</cite>
            </blockquote>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Packages Section -->
  <section id="packages" class="py-20 bg-white" data-mobile-donate>
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <span class="inline-block px-4 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-semibold mb-4">
          Choose Your Package
        </span>
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4" style="font-family: 'Signika', sans-serif;">
          Aqiqah Packages
        </h2>
        <p class="text-gray-600 text-lg max-w-2xl mx-auto">
          Select the appropriate package based on your child's gender. All packages include certificate and meat distribution.
        </p>
      </div>

      <!-- Packages Grid -->
      <div class="grid md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-12 justify-items-center">
        {packages.map((pkg) => (
          <div class={`relative bg-white rounded-2xl shadow-lg border-2 ${pkg.popular ? 'border-[#01534d] ring-4 ring-[#01534d]/10' : pkg.borderColor} overflow-hidden transition-all hover:shadow-xl hover:-translate-y-1`}>
            {pkg.popular && (
              <div class="absolute top-0 right-0 bg-[#01534d] text-white text-xs font-bold px-4 py-1 rounded-bl-xl">
                MOST POPULAR
              </div>
            )}
            {pkg.savings && (
              <div class="absolute top-0 left-0 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-br-xl">
                SAVE ${pkg.savings}
              </div>
            )}

            <div class={`${pkg.bgLight} p-6 text-center`}>
              {pkg.icon === 'coins' ? (
                <div class="flex justify-center mb-2">
                  <svg class="w-14 h-14 text-orange-500" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M12 2C6.48 2 2 4.24 2 7v10c0 2.76 4.48 5 10 5s10-2.24 10-5V7c0-2.76-4.48-5-10-5zm0 2c4.41 0 8 1.79 8 3s-3.59 3-8 3-8-1.79-8-3 3.59-3 8-3zm8 13c0 1.21-3.59 3-8 3s-8-1.79-8-3v-2.23c1.61 1.05 4.46 1.73 8 1.73s6.39-.68 8-1.73V17zm0-4c0 1.21-3.59 3-8 3s-8-1.79-8-3v-2.23c1.61 1.05 4.46 1.73 8 1.73s6.39-.68 8-1.73V13zm0-4c0 1.21-3.59 3-8 3s-8-1.79-8-3V6.77C5.61 7.82 8.46 8.5 12 8.5s6.39-.68 8-1.73V9z"/>
                  </svg>
                </div>
              ) : (
                <span class="text-5xl mb-2 block">{pkg.icon}</span>
              )}
              <h3 class="text-xl font-bold text-gray-800">{pkg.name}</h3>
              <p class="text-gray-500 text-sm">{pkg.animals === 0 ? 'Charity' : `${pkg.animals} ${pkg.animals === 1 ? 'Animal' : 'Animals'}`}</p>
            </div>

            <div class="p-6">
              <div class="text-center mb-4">
                <span class="text-4xl font-bold text-gray-800">${pkg.price}</span>
                <span class="text-gray-500">/one-time</span>
              </div>
              <p class="text-gray-600 text-sm text-center mb-6">{pkg.description}</p>

              <button
                onclick={`selectAqiqahPackage('${pkg.id}', '${pkg.name}', ${pkg.price})`}
                class={`w-full py-3 px-6 rounded-xl font-bold transition-all ${pkg.popular ? 'bg-gradient-to-r ' + pkg.gradient + ' text-white hover:shadow-lg' : 'bg-gray-100 text-gray-800 hover:bg-gray-200'}`}
              >
                Select Package
              </button>
            </div>
          </div>
        ))}
      </div>

      <!-- Trust Elements -->
      <div class="flex flex-wrap justify-center gap-8 text-center">
        <div class="flex items-center gap-2 text-gray-600">
          <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="text-sm">Secure Payment</span>
        </div>
        <div class="flex items-center gap-2 text-gray-600">
          <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="text-sm">Shariah Compliant</span>
        </div>
        <div class="flex items-center gap-2 text-gray-600">
          <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="text-sm">Certificate Included</span>
        </div>
        <div class="flex items-center gap-2 text-gray-600">
          <svg class="w-5 h-5 text-green-500" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
          </svg>
          <span class="text-sm">100% Distributed</span>
        </div>
      </div>
    </div>
  </section>

  <!-- How It Works -->
  <section id="how-it-works" class="py-20 bg-gradient-to-b from-gray-50 to-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <span class="inline-block px-4 py-1 bg-[#01534d]/10 text-[#01534d] rounded-full text-sm font-semibold mb-4">
          Simple Process
        </span>
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4" style="font-family: 'Signika', sans-serif;">
          How It Works
        </h2>
        <p class="text-gray-600 text-lg max-w-2xl mx-auto">
          Performing Aqiqah through us is simple, convenient, and hassle-free.
        </p>
      </div>

      <div class="max-w-4xl mx-auto">
        <div class="relative">
          <!-- Connection Line -->
          <div class="absolute top-24 left-1/2 -translate-x-1/2 w-full h-1 bg-gradient-to-r from-[#01534d]/20 via-[#01534d] to-[#01534d]/20 hidden md:block"></div>

          <div class="grid md:grid-cols-3 gap-8">
            {steps.map((step, index) => (
              <div class="relative text-center">
                <div class="relative z-10 w-20 h-20 mx-auto bg-gradient-to-br from-[#01534d] to-teal-600 rounded-full flex items-center justify-center shadow-lg mb-6">
                  <span class="text-3xl font-bold text-white">{step.number}</span>
                </div>
                <span class="inline-block px-3 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs font-semibold mb-3">
                  {step.time}
                </span>
                <h3 class="text-xl font-bold text-gray-800 mb-2">{step.title}</h3>
                <p class="text-gray-600">{step.description}</p>
              </div>
            ))}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Certificate Preview -->
  <section class="py-20 bg-[#01534d]">
    <div class="container mx-auto px-4">
      <div class="max-w-5xl mx-auto">
        <div class="grid md:grid-cols-2 gap-12 items-center">
          <div class="text-white">
            <span class="inline-block px-4 py-1 bg-white/10 text-yellow-400 rounded-full text-sm font-semibold mb-4">
              Personalized Certificate
            </span>
            <h2 class="text-3xl md:text-4xl font-bold mb-6" style="font-family: 'Signika', sans-serif;">
              Beautiful Certificate<br/>
              <span class="text-yellow-400">With Your Child's Name</span>
            </h2>
            <p class="text-white/80 text-lg mb-8 leading-relaxed">
              Receive a beautifully designed digital certificate confirming your child's Aqiqah was performed according to Islamic guidelines. Perfect for framing and keeping as a blessed memory.
            </p>
            <ul class="space-y-4">
              <li class="flex items-center gap-3">
                <div class="w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <span class="text-white">Personalized with your child's name</span>
              </li>
              <li class="flex items-center gap-3">
                <div class="w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <span class="text-white">Date of Aqiqah performance</span>
              </li>
              <li class="flex items-center gap-3">
                <div class="w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <span class="text-white">Digital format - easy to share & print</span>
              </li>
              <li class="flex items-center gap-3">
                <div class="w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center flex-shrink-0">
                  <svg class="w-4 h-4 text-gray-900" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
                  </svg>
                </div>
                <span class="text-white">Delivered within 5 days</span>
              </li>
            </ul>
          </div>
          <div class="relative">
            <div class="bg-white rounded-2xl shadow-2xl p-8 transform rotate-2 hover:rotate-0 transition-transform">
              <div class="border-4 border-[#01534d]/20 rounded-xl p-6">
                <div class="text-center">
                  <p class="text-[#01534d] font-arabic text-xl mb-2">ÿ®Ÿêÿ≥ŸíŸÖŸê ÿßŸÑŸÑŸéŸëŸáŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÖŸéŸÜŸê ÿßŸÑÿ±ŸéŸëÿ≠ŸêŸäŸÖŸê</p>
                  <h3 class="text-2xl font-bold text-[#01534d] mb-1">Certificate of Aqiqah</h3>
                  <p class="text-gray-500 text-sm mb-6">ÿ¥ŸáÿßÿØÿ© ÿßŸÑÿπŸÇŸäŸÇÿ©</p>

                  <div class="bg-[#01534d]/5 rounded-xl py-4 px-6 mb-4">
                    <p class="text-gray-600 text-sm mb-1">This certifies that Aqiqah was performed for</p>
                    <p class="text-2xl font-bold text-[#01534d]">Baby [Your Child's Name]</p>
                  </div>

                  <p class="text-gray-500 text-sm mb-4">
                    According to the Sunnah of Prophet Muhammad Ô∑∫
                  </p>

                  <div class="flex justify-center gap-8 text-sm text-gray-600 mb-6">
                    <div>
                      <p class="font-semibold">Date Performed</p>
                      <p>[Date]</p>
                    </div>
                    <div>
                      <p class="font-semibold">Certificate No.</p>
                      <p>#AQQ-[ID]</p>
                    </div>
                  </div>

                  <div class="border-t pt-4">
                    <img src="/images/logo.png" alt="Qurbani Foundation" class="h-8 mx-auto opacity-70" onerror="this.style.display='none'" />
                  </div>
                </div>
              </div>
            </div>
            <!-- Decorative elements -->
            <div class="absolute -top-4 -right-4 w-24 h-24 bg-yellow-400/30 rounded-full blur-2xl"></div>
            <div class="absolute -bottom-4 -left-4 w-32 h-32 bg-teal-400/30 rounded-full blur-2xl"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Us -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <span class="inline-block px-4 py-1 bg-[#01534d]/10 text-[#01534d] rounded-full text-sm font-semibold mb-4">
          Why Qurbani Foundation
        </span>
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4" style="font-family: 'Signika', sans-serif;">
          Why Parents Trust Us
        </h2>
        <p class="text-gray-600 text-lg max-w-2xl mx-auto">
          Over 1,000 families have trusted us with their child's Aqiqah
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-5xl mx-auto">
        {features.map((feature) => (
          <div class="bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition hover:-translate-y-1">
            <div class="w-14 h-14 bg-gradient-to-br from-[#01534d] to-teal-600 rounded-xl flex items-center justify-center mb-4">
              <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                {feature.icon === 'mosque' && <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>}
                {feature.icon === 'clock' && <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>}
                {feature.icon === 'document' && <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>}
                {feature.icon === 'heart' && <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>}
                {feature.icon === 'globe' && <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>}
                {feature.icon === 'support' && <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"/>}
              </svg>
            </div>
            <h3 class="text-xl font-bold text-gray-800 mb-2">{feature.title}</h3>
            <p class="text-gray-600">{feature.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <span class="inline-block px-4 py-1 bg-yellow-100 text-yellow-800 rounded-full text-sm font-semibold mb-4">
          Parent Reviews
        </span>
        <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4" style="font-family: 'Signika', sans-serif;">
          What Parents Say
        </h2>
      </div>

      <div class="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto">
        {testimonials.map((testimonial) => (
          <div class="bg-white rounded-2xl p-8 shadow-lg border border-gray-100">
            <div class="flex mb-4">
              {[1,2,3,4,5].map((star) => (
                <svg class="w-5 h-5 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                </svg>
              ))}
            </div>
            <p class="text-gray-700 mb-6 italic">"{testimonial.text}"</p>
            <div class="flex items-center gap-3">
              <div class="w-12 h-12 bg-gradient-to-br from-[#01534d] to-teal-600 rounded-full flex items-center justify-center text-white font-bold">
                {testimonial.name.charAt(0)}
              </div>
              <div>
                <p class="font-bold text-gray-800">{testimonial.name}</p>
                <p class="text-gray-500 text-sm">{testimonial.location} ‚Ä¢ {testimonial.baby}</p>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-20 bg-white">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <div class="text-center mb-12">
          <span class="inline-block px-4 py-1 bg-[#01534d]/10 text-[#01534d] rounded-full text-sm font-semibold mb-4">
            Common Questions
          </span>
          <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-4" style="font-family: 'Signika', sans-serif;">
            Frequently Asked Questions
          </h2>
        </div>

        <div class="space-y-4" id="faq-accordion">
          {faqs.map((faq, index) => (
            <div class="bg-white rounded-xl border border-gray-200 overflow-hidden">
              <button
                class="faq-toggle w-full flex items-center justify-between p-6 text-left hover:bg-gray-50 transition"
                data-index={index}
              >
                <span class="font-semibold text-gray-800 pr-8">{faq.question}</span>
                <svg class="faq-icon w-5 h-5 text-[#01534d] flex-shrink-0 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
              </button>
              <div class="faq-content hidden px-6 pb-6">
                <p class="text-gray-600 leading-relaxed">{faq.answer}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </div>
  </section>

  <!-- Final CTA -->
  <section class="py-20 bg-gradient-to-br from-[#01534d] to-teal-700 relative overflow-hidden">
    <div class="absolute inset-0 opacity-10">
      <div class="absolute top-0 left-0 w-96 h-96 bg-yellow-400 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
      <div class="absolute bottom-0 right-0 w-96 h-96 bg-teal-300 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"></div>
    </div>

    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-3xl mx-auto text-center">
        <p class="text-yellow-400 font-arabic text-2xl mb-4">ÿ±Ÿéÿ®ŸéŸëŸÜŸéÿß ŸáŸéÿ®Ÿí ŸÑŸéŸÜŸéÿß ŸÖŸêŸÜŸí ÿ£Ÿéÿ≤ŸíŸàŸéÿßÿ¨ŸêŸÜŸéÿß ŸàŸéÿ∞Ÿèÿ±ŸêŸëŸäŸéŸëÿßÿ™ŸêŸÜŸéÿß ŸÇŸèÿ±ŸéŸëÿ©Ÿé ÿ£ŸéÿπŸíŸäŸèŸÜŸç</p>
        <p class="text-white/80 text-sm italic mb-8">"Our Lord, grant us from among our spouses and offspring comfort to our eyes"</p>

        <h2 class="text-3xl md:text-4xl font-bold text-white mb-6" style="font-family: 'Signika', sans-serif;">
          Ready to Celebrate Your Child's Birth?
        </h2>
        <p class="text-xl text-white/80 mb-8">
          Fulfill this blessed Sunnah and feed families in need at the same time.
        </p>

        <a href="#packages" class="inline-flex items-center gap-3 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-4 px-10 rounded-full text-lg transition-all transform hover:scale-105 shadow-lg">
          <span>Order Aqiqah Now</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>

        <p class="text-white/60 text-sm mt-6">
          Questions? Call us at <a href="tel:+18009000027" class="text-yellow-400 hover:underline">1-800-900-0027</a>
        </p>
      </div>
    </div>
  </section>

  <!-- Sticky Mobile CTA -->
  <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 z-50 md:hidden shadow-lg">
    <a href="#packages" class="flex items-center justify-center gap-2 w-full bg-[#01534d] text-white font-bold py-4 rounded-xl">
      <span>Order Aqiqah</span>
      <span class="text-yellow-400">from $150</span>
    </a>
  </div>

  <Footer />

  <!-- Package Selection Modal - Step 1: Child Details -->
  <div id="aqiqah-modal" class="fixed inset-0 bg-black/50 z-[200] hidden items-center justify-center p-4">
    <div class="bg-white rounded-2xl max-w-md w-full p-6 relative">
      <button onclick="closeAqiqahModal()" class="absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full">
        <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <h3 class="text-2xl font-bold text-gray-800 mb-2" id="modal-package-name">Baby Boy Aqiqah</h3>
      <p class="text-[#01534d] text-3xl font-bold mb-6">$<span id="modal-package-price">300</span></p>

      <form id="aqiqah-form" class="space-y-4">
        <input type="hidden" id="package-type" value="boy" />
        <input type="hidden" id="package-amount" value="300" />

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Child's Name *</label>
          <input
            type="text"
            id="child-name"
            required
            placeholder="Enter your child's name"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#01534d] focus:border-transparent"
          />
          <p class="text-xs text-gray-500 mt-1">This name will appear on the certificate</p>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Performing Aqiqah For</label>
          <select id="aqiqah-for" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#01534d] bg-white">
            <option value="child">My Child</option>
            <option value="self">Myself (Adult Aqiqah)</option>
            <option value="other">Someone Else</option>
          </select>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Special Notes / Duas (Optional)</label>
          <textarea
            id="special-notes"
            rows="2"
            placeholder="Any special requests or duas?"
            class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-[#01534d] focus:border-transparent resize-none"
          ></textarea>
        </div>

        <button
          type="submit"
          class="w-full bg-[#01534d] hover:bg-[#013d39] text-white font-bold py-4 rounded-xl transition flex items-center justify-center gap-2"
        >
          <span>Continue</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </button>
      </form>

      <p class="text-center text-gray-500 text-sm mt-4">
        Secure payment ‚Ä¢ Certificate included
      </p>
    </div>
  </div>

  <!-- Sadaqah Upsell Modal - Step 2 -->
  <div id="sadaqah-modal" class="fixed inset-0 bg-black/50 z-[200] hidden items-center justify-center p-4">
    <div class="bg-white rounded-2xl max-w-md w-full p-6 relative">
      <button onclick="closeSadaqahModal()" class="absolute top-4 right-4 p-2 hover:bg-gray-100 rounded-full">
        <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <!-- Success checkmark -->
      <div class="flex justify-center mb-4">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center">
          <svg class="w-8 h-8 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
          </svg>
        </div>
      </div>

      <h3 class="text-xl font-bold text-gray-800 mb-2 text-center">Aqiqah Added!</h3>
      <p class="text-gray-600 text-center mb-6">Would you like to add a 'Gift of Protection' (Sadaqah)?</p>

      <!-- Sadaqah Option -->
      <div class="bg-orange-50 border-2 border-orange-200 rounded-xl p-4 mb-4">
        <div class="flex items-center gap-4">
          <div class="flex-shrink-0">
            <svg class="w-12 h-12 text-orange-500" viewBox="0 0 24 24" fill="currentColor">
              <path d="M12 2C6.48 2 2 4.24 2 7v10c0 2.76 4.48 5 10 5s10-2.24 10-5V7c0-2.76-4.48-5-10-5zm0 2c4.41 0 8 1.79 8 3s-3.59 3-8 3-8-1.79-8-3 3.59-3 8-3zm8 13c0 1.21-3.59 3-8 3s-8-1.79-8-3v-2.23c1.61 1.05 4.46 1.73 8 1.73s6.39-.68 8-1.73V17zm0-4c0 1.21-3.59 3-8 3s-8-1.79-8-3v-2.23c1.61 1.05 4.46 1.73 8 1.73s6.39-.68 8-1.73V13zm0-4c0 1.21-3.59 3-8 3s-8-1.79-8-3V6.77C5.61 7.82 8.46 8.5 12 8.5s6.39-.68 8-1.73V9z"/>
            </svg>
          </div>
          <div class="flex-grow">
            <h4 class="font-bold text-gray-800">Sadaqah</h4>
            <p class="text-sm text-gray-600">Give charity on behalf of your child</p>
          </div>
          <div class="text-right">
            <p class="text-2xl font-bold text-orange-600">$100</p>
          </div>
        </div>
      </div>

      <div class="space-y-3">
        <button
          onclick="addSadaqahAndCheckout()"
          class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-4 rounded-xl transition flex items-center justify-center gap-2"
        >
          <span>Add Sadaqah (+$100)</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
          </svg>
        </button>

        <button
          onclick="skipSadaqahAndCheckout()"
          class="w-full bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-4 rounded-xl transition"
        >
          No thanks, go to cart
        </button>
      </div>
    </div>
  </div>

  <script is:inline>
    // Store pending Aqiqah details for the upsell flow
    let pendingAqiqah = null;

    // FAQ Accordion
    document.querySelectorAll('.faq-toggle').forEach(button => {
      button.addEventListener('click', () => {
        const content = button.nextElementSibling;
        const icon = button.querySelector('.faq-icon');

        // Close all others
        document.querySelectorAll('.faq-content').forEach(c => {
          if (c !== content) {
            c.classList.add('hidden');
            c.previousElementSibling.querySelector('.faq-icon').classList.remove('rotate-180');
          }
        });

        // Toggle current
        content.classList.toggle('hidden');
        icon.classList.toggle('rotate-180');
      });
    });

    // Package Selection
    function selectAqiqahPackage(type, name, price) {
      // If selecting Sadaqah directly, add to cart immediately
      if (type === 'sadaqah') {
        if (typeof window.addToCart === 'function') {
          window.addToCart({
            id: `sadaqah-${Date.now()}`,
            name: 'Sadaqah',
            amount: price,
            type: 'single',
            campaign: 'aqiqah',
            label: 'Sadaqah',
            metadata: {
              type: 'sadaqah',
              description: 'Charity on behalf of child'
            }
          });
        }
        // Open cart
        if (typeof window.openCart === 'function') {
          window.openCart();
        }
        return;
      }

      document.getElementById('modal-package-name').textContent = name + ' Aqiqah';
      document.getElementById('modal-package-price').textContent = price;
      document.getElementById('package-type').value = type;
      document.getElementById('package-amount').value = price;

      const modal = document.getElementById('aqiqah-modal');
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }

    function closeAqiqahModal() {
      const modal = document.getElementById('aqiqah-modal');
      modal.classList.add('hidden');
      modal.classList.remove('flex');
    }

    function closeSadaqahModal() {
      const modal = document.getElementById('sadaqah-modal');
      modal.classList.add('hidden');
      modal.classList.remove('flex');
      pendingAqiqah = null;
    }

    function showSadaqahUpsell() {
      const modal = document.getElementById('sadaqah-modal');
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }

    function addAqiqahToCart() {
      if (!pendingAqiqah) return;

      const { childName, packageType, amount, aqiqahFor, notes } = pendingAqiqah;
      const packageLabel = packageType === 'boy' ? 'Baby Boy' : 'Baby Girl';

      if (typeof window.addToCart === 'function') {
        window.addToCart({
          id: `aqiqah-${packageType}-${Date.now()}`,
          name: `Aqiqah for ${childName}`,
          amount: amount,
          type: 'single',
          campaign: 'aqiqah',
          label: `Aqiqah (${packageLabel})`,
          metadata: {
            childName: childName,
            packageType: packageType,
            aqiqahFor: aqiqahFor,
            notes: notes,
            service: 'aqiqah'
          }
        });
      }
    }

    function addSadaqahAndCheckout() {
      // First add the Aqiqah
      addAqiqahToCart();

      // Then add Sadaqah
      if (typeof window.addToCart === 'function') {
        window.addToCart({
          id: `sadaqah-${Date.now()}`,
          name: `Sadaqah for ${pendingAqiqah.childName}`,
          amount: 100,
          type: 'single',
          campaign: 'aqiqah',
          label: 'Sadaqah',
          metadata: {
            childName: pendingAqiqah.childName,
            type: 'sadaqah',
            description: 'Charity on behalf of child'
          }
        });
      }

      closeSadaqahModal();
      pendingAqiqah = null;

      // Open cart
      if (typeof window.openCart === 'function') {
        window.openCart();
      }
    }

    function skipSadaqahAndCheckout() {
      // Just add the Aqiqah
      addAqiqahToCart();

      closeSadaqahModal();
      pendingAqiqah = null;

      // Open cart
      if (typeof window.openCart === 'function') {
        window.openCart();
      }
    }

    // Close modal on escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeAqiqahModal();
        closeSadaqahModal();
      }
    });

    // Close modal on backdrop click
    document.getElementById('aqiqah-modal').addEventListener('click', (e) => {
      if (e.target.id === 'aqiqah-modal') closeAqiqahModal();
    });

    document.getElementById('sadaqah-modal').addEventListener('click', (e) => {
      if (e.target.id === 'sadaqah-modal') closeSadaqahModal();
    });

    // Form submission - Step 1: Collect details, then show Sadaqah upsell
    document.getElementById('aqiqah-form').addEventListener('submit', (e) => {
      e.preventDefault();

      const childName = document.getElementById('child-name').value;
      const packageType = document.getElementById('package-type').value;
      const amount = parseInt(document.getElementById('package-amount').value);
      const aqiqahFor = document.getElementById('aqiqah-for').value;
      const notes = document.getElementById('special-notes').value;

      // Store details for the upsell flow
      pendingAqiqah = {
        childName,
        packageType,
        amount,
        aqiqahFor,
        notes
      };

      // Close first modal
      closeAqiqahModal();

      // Clear form
      document.getElementById('aqiqah-form').reset();

      // Show Sadaqah upsell modal
      showSadaqahUpsell();
    });
  </script>

  <style>
    .font-arabic {
      font-family: 'Amiri', 'Traditional Arabic', serif;
    }
  </style>
</Layout>
