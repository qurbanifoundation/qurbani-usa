---
/**
 * GREEN WITH YELLOW TEMPLATE
 *
 * A campaign page template featuring:
 * - Teal/Green primary colors (#255764, #01534d)
 * - Yellow/Gold accent colors (#fdc448, #ef7c01)
 * - Fixed sticky donation box on the right side
 * - Hero section with left-aligned text and right donation box
 * - Mobile-responsive with separate mobile donation box
 * - Smooth sticky behavior that stays within content section
 *
 * Color Palette:
 * - Primary Dark: #01534d (dark teal)
 * - Primary: #255764 (teal)
 * - Accent: #fdc448 (yellow/gold)
 * - Accent Dark: #ef7c01 (orange)
 * - Button Text: #61470e (dark gold)
 *
 * Usage:
 * Pass campaign data as props or fetch from database
 */

import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import TealYellowDonationBox from '../components/donation/TealYellowDonationBox.astro';
import WhiteDonationBox from '../components/donation/WhiteDonationBox.astro';
import ListStyleDonationBox from '../components/donation/ListStyleDonationBox.astro';
import UrgentAppealDonationBox from '../components/donation/UrgentAppealDonationBox.astro';
import CWDonationBox from '../components/donation/CWDonationBox.astro';
import HomeDonationBox from '../components/donation/HomeDonationBox.astro';
import { supabaseAdmin } from '../lib/supabase';
import { formatTextToHtml, formatLineBreaks } from '../lib/textFormatting';
import { DEFAULT_PAGE_CONTENT } from '../lib/page-content-defaults';

interface Props {
  campaign: {
    title: string;
    hero_title?: string;
    subtitle?: string;
    subtitle2?: string;
    slug: string;
    featured_image?: string;
    description?: string;
    meta_title?: string;
    meta_description?: string;
    content_sections?: Array<{ title?: string; content?: string; image?: string }>;
    donation_options?: Array<{ amount: number; label?: string }>;
    gallery_images?: string[];
    impact_stats?: Array<{ value: string; label: string }> | Record<string, string>;
    template_config?: Record<string, any>;
  };
  donationBoxTemplate?: 'teal-yellow' | 'dark-teal' | 'white' | 'compact' | 'list-style' | string;
}

const { campaign, donationBoxTemplate = 'teal-yellow' } = Astro.props;

const contentSections = campaign.content_sections || [];
const campaignDonationOptions = campaign.donation_options || [];
const galleryImages = campaign.gallery_images || [];

// Parse impact stats (array, object, or fallback defaults)
const rawImpactStats = campaign.impact_stats;
let impactStats: { value: string; label: string }[] = [];
if (Array.isArray(rawImpactStats) && rawImpactStats.length > 0) {
  impactStats = rawImpactStats;
} else if (rawImpactStats && typeof rawImpactStats === 'object' && !Array.isArray(rawImpactStats)) {
  impactStats = Object.entries(rawImpactStats).map(([key, value]) => ({
    value: String(value),
    label: key.replace(/_/g, ' ').replace(/\b\w/g, (c: string) => c.toUpperCase())
  }));
}
// Crisis Snapshot shows only real campaign-specific crisis stats — no fallbacks

// Extract CW donation box config from template_config
const cwConfig = campaign.template_config?.cwDonation || {};

// Extract editable page content with fallback to defaults
const savedPC = campaign.template_config?.pageContent || {};
const pageContent = {
  theCrisis: { ...DEFAULT_PAGE_CONTENT.theCrisis, ...savedPC.theCrisis },
  howDonationHelps: {
    heading: savedPC.howDonationHelps?.heading || DEFAULT_PAGE_CONTENT.howDonationHelps.heading,
    items: savedPC.howDonationHelps?.items || DEFAULT_PAGE_CONTENT.howDonationHelps.items,
  },
  midCta: { ...DEFAULT_PAGE_CONTENT.midCta, ...savedPC.midCta },
  chooseYourImpact: { ...DEFAULT_PAGE_CONTENT.chooseYourImpact, ...savedPC.chooseYourImpact },
  whyMonthly: {
    ...DEFAULT_PAGE_CONTENT.whyMonthly,
    ...savedPC.whyMonthly,
    benefits: savedPC.whyMonthly?.benefits || DEFAULT_PAGE_CONTENT.whyMonthly.benefits,
  },
  faq: {
    heading: savedPC.faq?.heading || DEFAULT_PAGE_CONTENT.faq.heading,
    items: savedPC.faq?.items || DEFAULT_PAGE_CONTENT.faq.items,
  },
  finalCta: { ...DEFAULT_PAGE_CONTENT.finalCta, ...savedPC.finalCta },
};

// Hardcoded fallback (used only if template has no defaults)
const hardcodedDefaults = [
  { amount: 50, label: 'Feed a family' },
  { amount: 100, label: 'Provide essentials' },
  { amount: 250, label: 'Emergency aid' },
  { amount: 500, label: 'Transform lives' },
];

// Default color schemes (fallback if database doesn't have colors)
const defaultBoxColors: Record<string, any> = {
  'teal-yellow': {
    bgColor: '#255764',
    textColor: '#ffffff',
    textMutedColor: 'rgba(255,255,255,0.7)',
    accentColor: '#fdc448',
    accentTextColor: '#61470e',
    borderColor: 'rgba(255,255,255,0.3)',
    activeBgColor: 'rgba(253,196,72,0.2)',
    toggleActiveColor: 'rgba(255,255,255,0.2)',
    inactiveBtnBg: 'transparent',
  },
  'dark-teal': {
    bgColor: '#004139',
    textColor: '#ffffff',
    textMutedColor: '#d4c4a8',
    accentColor: '#c41e3a',
    accentTextColor: '#ffffff',
    borderColor: '#108D70',
    activeBgColor: '#ECF0EE',
    activeTextColor: '#004139',
    toggleActiveColor: '#108D70',
    inactiveBtnBg: '#005A4C',
  },
  'white': {
    bgColor: '#ffffff',
    textColor: '#1f2937',
    textMutedColor: '#6b7280',
    accentColor: '#01534d',
    accentTextColor: '#ffffff',
    borderColor: '#01534d',
    activeBgColor: '#01534d',
    toggleActiveColor: '#01534d',
    inactiveBtnBg: 'transparent',
  },
  'compact': {
    bgColor: '#1a4a55',
    textColor: '#ffffff',
    textMutedColor: 'rgba(255,255,255,0.7)',
    accentColor: '#fdc448',
    accentTextColor: '#61470e',
    borderColor: 'rgba(255,255,255,0.3)',
    activeBgColor: 'rgba(253,196,72,0.2)',
    toggleActiveColor: 'rgba(255,255,255,0.2)',
    inactiveBtnBg: 'transparent',
  },
  'list-style': {
    bgColor: '#f5f5f5',
    textColor: '#374151',
    textMutedColor: '#6b7280',
    accentColor: '#D97706',
    accentTextColor: '#ffffff',
    borderColor: '#e5e7eb',
    activeBgColor: '#D97706',
    activeTextColor: '#ffffff',
    toggleActiveColor: '#D97706',
    inactiveBtnBg: '#ffffff',
  },
  'urgent-appeal': {
    bgColor: '#ffffff',
    headerBgColor: '#c41e3a',
    textColor: '#1f2937',
    textMutedColor: '#6b7280',
    accentColor: '#c41e3a',
    accentTextColor: '#ffffff',
    borderColor: '#e5e7eb',
    activeBgColor: '#c41e3a10',
    activeTextColor: '#1f2937',
    toggleActiveColor: '#c41e3a',
    inactiveBtnBg: '#ffffff',
  },
  'cw-donation': {
    bgColor: '#ffffff',
    textColor: '#1f2937',
    textMutedColor: '#6b7280',
    accentColor: '#e1861d',
    accentTextColor: '#ffffff',
    borderColor: '#e5e7eb',
    activeBgColor: '#e1861d15',
    activeTextColor: '#1f2937',
    toggleActiveColor: '#e1861d',
    inactiveBtnBg: 'transparent',
  },
};

// Fetch colors from database for the selected template
let dbColors: any = null;
try {
  const { data } = await supabaseAdmin
    .from('template_colors')
    .select('*')
    .eq('template_name', donationBoxTemplate)
    .single();
  if (data) {
    dbColors = data;
  }
} catch (e) {
  // Use defaults if fetch fails
}

// Merge database colors with defaults (db colors override defaults)
const defaultColors = defaultBoxColors[donationBoxTemplate] || defaultBoxColors['teal-yellow'];
const colors = {
  bgColor: dbColors?.bg_color || defaultColors.bgColor,
  headerBgColor: dbColors?.header_bg_color || defaultColors.headerBgColor || defaultColors.accentColor,
  textColor: dbColors?.text_color || defaultColors.textColor,
  textMutedColor: dbColors?.text_muted_color || defaultColors.textMutedColor,
  accentColor: dbColors?.accent_color || defaultColors.accentColor,
  accentTextColor: dbColors?.accent_text_color || defaultColors.accentTextColor,
  borderColor: dbColors?.border_color || defaultColors.borderColor,
  activeBgColor: dbColors?.active_bg_color || defaultColors.activeBgColor,
  activeTextColor: dbColors?.active_text_color || defaultColors.activeTextColor || defaultColors.textColor,
  toggleActiveColor: dbColors?.toggle_active_color || defaultColors.toggleActiveColor,
  inactiveBtnBg: dbColors?.inactive_btn_bg || defaultColors.inactiveBtnBg || 'transparent',
};

// Text customizations from database (supports {campaign} placeholder)
const rawTitleText = dbColors?.title_text || '{campaign}';
const textSettings = {
  titleText: rawTitleText.replace('{campaign}', campaign.title),
  subtitleText: (dbColors?.subtitle_text || '100% reaches those in need').replace('{campaign}', campaign.title),
  buttonText: dbColors?.button_text || 'Donate Now',
  singleText: dbColors?.single_text || 'Single',
  monthlyText: dbColors?.monthly_text || 'Monthly',
  customAmountPlaceholder: dbColors?.custom_amount_placeholder || 'Any Amount',
  trustMessageText: dbColors?.trust_message_text || 'Donating through Qurbani Foundation is safe, secure, and easy with many payment options to choose from.',
  trustLinkText: dbColors?.trust_link_text || 'View other ways to donate',
  trustLinkUrl: dbColors?.trust_link_url || '/donate',
};

// Font size settings from database
const fontSizeMap: Record<string, string> = {
  'text-xs': '0.75rem',
  'text-sm': '0.875rem',
  'text-base': '1rem',
  'text-lg': '1.125rem',
  'text-xl': '1.25rem',
  'text-2xl': '1.5rem',
};
const fontSizes = {
  titleSize: fontSizeMap[dbColors?.title_size] || '1.25rem',
  subtitleSize: fontSizeMap[dbColors?.subtitle_size] || '0.875rem',
  buttonSize: fontSizeMap[dbColors?.button_size] || '1.125rem',
  amountSize: fontSizeMap[dbColors?.amount_size] || '1.125rem',
};
const isWhiteTheme = donationBoxTemplate === 'white';
const isCompact = donationBoxTemplate === 'compact';
const isDarkTeal = donationBoxTemplate === 'dark-teal';
const isListStyle = donationBoxTemplate === 'list-style';
const isUrgentAppeal = donationBoxTemplate === 'urgent-appeal';
const isCWDonation = donationBoxTemplate === 'cw-donation';
const isHomeDonation = donationBoxTemplate === 'home-donation';

// Get donation options: campaign-specific > template defaults > hardcoded fallback
const templateDefaultAmounts = dbColors?.default_amounts || hardcodedDefaults;
const activeOptions = campaignDonationOptions.length > 0 ? campaignDonationOptions : templateDefaultAmounts;
---

<Layout
  title={campaign.meta_title || campaign.title}
  description={campaign.meta_description || campaign.subtitle}
  ogImage={campaign.featured_image}
>
  <Navbar />

  <main class="min-h-screen">
    <!-- Hero Section with Donation Box -->
    <section class="relative min-h-[60vh] lg:min-h-[80vh] overflow-hidden">
      <!-- Background -->
      <div class="absolute inset-0">
        {campaign.featured_image ? (
          <img
            src={campaign.featured_image}
            alt=""
            class="absolute inset-0 w-full h-full object-cover"
          />
        ) : (
          <div class="absolute inset-0 bg-gradient-to-br from-[#1a4a55] via-[#255764] to-[#01534d]"></div>
        )}
        <!-- Dark overlay for text readability -->
        <div class="absolute inset-0 bg-gradient-to-r from-black/70 via-black/50 to-black/30"></div>
      </div>

      <!-- Hero Content Grid -->
      <div class="relative z-10 max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 min-h-[60vh] lg:min-h-[80vh] flex flex-col" id="hero-container">

        <!-- Top: Back link and Badge (stays at top) -->
        <div class="pt-24 lg:pt-28">
          <a href="/appeals" class="inline-flex items-center gap-2 text-white/70 hover:text-white text-sm transition group">
            <svg class="w-4 h-4 group-hover:-translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
            </svg>
            Back to Appeals
          </a>
          <div class="mt-3">
            <span class="inline-block bg-[#ef7c01] text-white text-sm font-bold px-4 py-1.5 rounded-full animate-pulse">
              URGENT APPEAL
            </span>
          </div>
        </div>

        <!-- Center: Main content grid (vertically centered) -->
        <div class="flex-1 flex items-center">
          <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-16 w-full">

            <!-- Left: Text Content (3 cols) - vertically centered -->
            <div class="lg:col-span-3 text-left">
              <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 leading-tight" style="font-family: 'Signika', sans-serif;">
                {campaign.hero_title || campaign.title}
              </h1>

              {campaign.subtitle && (
                <div class="text-xl md:text-2xl text-white/90 max-w-2xl leading-relaxed" style={`font-family: 'Lato', sans-serif; margin-bottom: ${campaign.subtitle2 ? '0.5rem' : '2rem'};`} set:html={formatLineBreaks(campaign.subtitle)}></div>
              )}

              {campaign.subtitle2 && (
                <div class="text-lg md:text-xl text-white/80 max-w-2xl mb-8 leading-relaxed" style="font-family: 'Lato', sans-serif;" set:html={formatLineBreaks(campaign.subtitle2)}></div>
              )}

              <!-- Micro Trust Row -->
              <div class="flex flex-wrap items-center gap-x-5 gap-y-2 text-white/60 text-[12px] tracking-wide">
                <div class="flex items-center gap-1.5">
                  <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path></svg>
                  <span>Secure Payment</span>
                </div>
                <div class="flex items-center gap-1.5">
                  <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path></svg>
                  <span>100% Donation Policy</span>
                </div>
                <div class="flex items-center gap-1.5">
                  <svg class="w-3.5 h-3.5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
                  <span>501(c)(3) Registered</span>
                </div>
                <div class="flex items-center gap-1.5">
                  <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><path d="M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z"></path></svg>
                  <span>Delivering Aid in 50+ Countries</span>
                </div>
              </div>
            </div>

          <!-- Right: Placeholder for donation box (2 cols) -->
            <div class="hidden lg:block lg:col-span-2" id="donation-box-placeholder"></div>
          </div>
        </div>
      </div>
      <!-- Bottom spacer -->
      <div class="pb-8"></div>
    </div>
  </section>

  <!-- Fixed Donation Box - Desktop only (hidden until JS positions it) -->
  <div id="fixed-donate-box" class="hidden lg:block fixed z-40 opacity-0" style={(isListStyle || isUrgentAppeal || isCWDonation || isHomeDonation) ? "width: 420px; top: 240px;" : "width: 380px; top: 240px;"}>
    {isListStyle ? (
      <div id="donate">
        <ListStyleDonationBox
          campaignSlug={campaign.slug}
          campaignTitle={campaign.title}
          campaignImage={campaign.featured_image}
          donationOptions={activeOptions}
          colors={{
            bgColor: colors.bgColor,
            textColor: colors.textColor,
            textMutedColor: colors.textMutedColor,
            accentColor: colors.accentColor,
            accentTextColor: colors.accentTextColor,
            borderColor: colors.borderColor,
          }}
          textSettings={{
            titleText: textSettings.titleText,
            subtitleText: textSettings.subtitleText,
            buttonText: textSettings.buttonText,
            singleText: textSettings.singleText,
            monthlyText: textSettings.monthlyText,
            customAmountPlaceholder: textSettings.customAmountPlaceholder,
            trustMessageText: textSettings.trustMessageText,
            trustLinkText: textSettings.trustLinkText,
            trustLinkUrl: textSettings.trustLinkUrl,
          }}
        />
      </div>
    ) : isUrgentAppeal ? (
      <div id="donate">
        <UrgentAppealDonationBox
          campaignSlug={campaign.slug}
          campaignTitle={campaign.title}
          campaignImage={campaign.featured_image}
          donationOptions={activeOptions}
          colors={{
            bgColor: colors.bgColor,
            headerBgColor: colors.headerBgColor,
            textColor: colors.textColor,
            textMutedColor: colors.textMutedColor,
            accentColor: colors.accentColor,
            accentTextColor: colors.accentTextColor,
            borderColor: colors.borderColor,
          }}
          textSettings={{
            titleText: textSettings.titleText,
            subtitleText: textSettings.subtitleText,
            buttonText: textSettings.buttonText,
            singleText: textSettings.singleText,
            monthlyText: textSettings.monthlyText,
            customAmountPlaceholder: textSettings.customAmountPlaceholder,
          }}
        />
      </div>
    ) : isCWDonation ? (
      <div id="donate">
        <CWDonationBox
          campaignSlug={campaign.slug}
          campaignTitle={campaign.title}
          campaignImage={campaign.featured_image}
          monthlyAmounts={cwConfig.monthlyAmounts}
          oneTimeAmounts={cwConfig.oneTimeAmounts}
          impactTexts={cwConfig.impactTexts}
          monthlyImpactText={cwConfig.monthlyImpactText}
          upsellBody={cwConfig.upsellBody}
          upsellSubText={cwConfig.upsellSubText}
          buttonTextMonthly={cwConfig.buttonTextMonthly}
          buttonTextOneTime={cwConfig.buttonTextOneTime}
          donationBoxHeading={cwConfig.donationBoxHeading}
          tabEmoji={cwConfig.tabEmoji || ''}
          frequencies={cwConfig.frequencies}
        />
      </div>
    ) : isHomeDonation ? (
      <div id="donate">
        <HomeDonationBox campaignSlug={campaign.slug} campaignTitle={campaign.title} />
      </div>
    ) : (
    <div
      id="donate"
      class="rounded-2xl p-6 shadow-2xl w-full"
      style={`background-color: ${colors.bgColor}; ${isWhiteTheme ? 'border: 2px solid #01534d;' : ''}`}
    >
      <div class="text-center mb-5">
        {isDarkTeal ? (
          <>
            <p class="mb-1" style={`color: #d4c4a8; font-family: 'Playfair Display', Georgia, serif; font-style: italic; font-size: ${fontSizes.subtitleSize};`}>{textSettings.subtitleText}</p>
            <h3 class="font-bold" style={`color: #ffffff; font-family: 'Signika', sans-serif; font-size: ${fontSizes.titleSize};`}>
              {textSettings.titleText}
            </h3>
          </>
        ) : (
          <>
            <h3 class="font-bold mb-1" style={`color: ${colors.textColor}; font-family: 'Signika', sans-serif; font-size: ${fontSizes.titleSize};`}>
              {textSettings.titleText}
            </h3>
            <p style={`color: ${colors.textMutedColor}; font-size: ${fontSizes.subtitleSize};`}>{textSettings.subtitleText}</p>
          </>
        )}
      </div>

      <!-- Toggle -->
      <div
        class={`flex ${isDarkTeal ? 'rounded-full border-2' : 'rounded-xl p-1'} mb-5`}
        style={`${isDarkTeal ? `border-color: ${colors.borderColor};` : 'background-color: rgba(255,255,255,0.1);'} ${isWhiteTheme ? 'border: 2px solid #01534d;' : ''}`}
      >
        <button
          type="button"
          id="btn-single"
          class={`donation-type-btn flex-1 py-2.5 px-4 ${isDarkTeal ? 'rounded-full' : 'rounded-lg'} font-semibold transition text-sm`}
          data-type="single"
          style={`background-color: ${colors.toggleActiveColor}; color: ${isWhiteTheme ? '#ffffff' : colors.textColor};`}
        >
          {textSettings.singleText}
        </button>
        <button
          type="button"
          id="btn-monthly"
          class={`donation-type-btn flex-1 py-2.5 px-4 ${isDarkTeal ? 'rounded-full' : 'rounded-lg'} font-semibold transition text-sm`}
          data-type="monthly"
          style={`color: ${isDarkTeal ? '#ffffff' : colors.textMutedColor};`}
        >
          {textSettings.monthlyText}
        </button>
      </div>

      <!-- Amount Grid -->
      <div class={`grid ${isCompact || isDarkTeal ? 'grid-cols-3' : 'grid-cols-2'} gap-2 mb-5`} id="amount-buttons">
        {activeOptions.slice(0, isCompact || isDarkTeal ? 3 : 6).map((opt: any, index: number) => (
          <button
            type="button"
            class={`amount-btn py-3 px-2 ${isDarkTeal ? 'rounded-lg' : 'rounded-xl'} border-2 font-semibold transition text-center hover:scale-[1.02]`}
            data-amount={opt.amount}
            style={`color: ${colors.textColor}; border-color: ${colors.borderColor}; background-color: ${colors.inactiveBtnBg};`}
            data-active-border={colors.borderColor}
            data-active-bg={colors.activeBgColor}
            data-active-text={colors.activeTextColor}
            data-inactive-border={colors.borderColor}
            data-inactive-bg={colors.inactiveBtnBg}
            data-inactive-text={colors.textColor}
          >
            <span class="block" style={`font-size: ${fontSizes.amountSize};`}>${opt.amount.toLocaleString()}</span>
            {opt.label && !isCompact && !isDarkTeal && (
              <span class="block text-xs font-normal mt-0.5 truncate" style={`color: ${colors.textMutedColor};`}>{opt.label}</span>
            )}
          </button>
        ))}
      </div>

      <!-- Custom Amount -->
      {!isCompact && (
        <div class="mb-5">
          <div class="relative">
            <span id="custom-amount-symbol" class={`absolute left-4 top-1/2 -translate-y-1/2 text-lg font-bold ${isDarkTeal ? 'text-white/60' : 'text-gray-500'}`}>$</span>
            <input
              type="number"
              id="custom-amount"
              min="1"
              placeholder={textSettings.customAmountPlaceholder}
              class={`w-full pl-10 pr-4 py-3 rounded-xl border-2 font-bold focus:outline-none text-lg ${isDarkTeal ? 'bg-transparent text-white placeholder-white/50' : 'bg-white text-gray-800'}`}
              style={`border-color: ${colors.borderColor};`}
              data-active-border={colors.borderColor}
              data-active-bg={colors.activeBgColor}
              data-active-text={colors.activeTextColor}
              data-inactive-border={colors.borderColor}
              data-inactive-bg={isDarkTeal ? 'transparent' : '#ffffff'}
              data-inactive-text={isDarkTeal ? '#ffffff' : '#1f2937'}
            />
          </div>
        </div>
      )}

      <!-- Donate Button -->
      <button
        type="button"
        id="donate-btn"
        class="w-full font-bold py-4 rounded-xl hover:opacity-90 transition-all hover:scale-[1.02] flex items-center justify-center gap-2"
        style={`background-color: ${colors.accentColor}; color: ${colors.accentTextColor}; ${isDarkTeal ? '' : 'box-shadow: 3px 4px 0 rgba(0,0,0,0.2);'} font-family: 'Signika', sans-serif; font-size: ${fontSizes.buttonSize};`}
      >
        {textSettings.buttonText}
        {isDarkTeal && (
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        )}
      </button>

      <!-- Trust Badges -->
      {!isCompact && (
        <div class="mt-4 pt-4" style={`border-top: 1px solid ${isWhiteTheme ? '#e5e7eb' : 'rgba(255,255,255,0.2)'};`}>
          <div class="flex justify-center gap-4 text-center">
            <div class="text-xs flex items-center gap-1" style={`color: ${isWhiteTheme ? '#9ca3af' : 'rgba(255,255,255,0.6)'};`}>
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
              </svg>
              <span>Secure</span>
            </div>
            <div class="text-xs flex items-center gap-1" style={`color: ${isWhiteTheme ? '#9ca3af' : 'rgba(255,255,255,0.6)'};`}>
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span>Tax Deductible</span>
            </div>
            <div class="text-xs flex items-center gap-1" style={`color: ${isWhiteTheme ? '#9ca3af' : 'rgba(255,255,255,0.6)'};`}>
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
              </svg>
              <span>100% Policy</span>
            </div>
          </div>
        </div>
      )}
    </div>
    )}
  </div>

    <!-- Main Content -->
    <section class="py-10 md:py-14 bg-white" id="content-section">
      <div class="max-w-[1750px] mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-5 gap-8 lg:gap-16">

          <!-- Left: Content -->
          <div class="lg:col-span-3 space-y-8">

            <!-- Mobile Donation Box -->
            {isListStyle ? (
              <div class="lg:hidden" data-mobile-donate>
                <ListStyleDonationBox
                  campaignSlug={campaign.slug}
                  campaignTitle={campaign.title}
                  campaignImage={campaign.featured_image}
                  donationOptions={activeOptions}
                  colors={{
                    bgColor: colors.bgColor,
                    textColor: colors.textColor,
                    textMutedColor: colors.textMutedColor,
                    accentColor: colors.accentColor,
                    accentTextColor: colors.accentTextColor,
                    borderColor: colors.borderColor,
                  }}
                  textSettings={{
                    titleText: textSettings.titleText,
                    subtitleText: textSettings.subtitleText,
                    buttonText: textSettings.buttonText,
                    singleText: textSettings.singleText,
                    monthlyText: textSettings.monthlyText,
                    customAmountPlaceholder: textSettings.customAmountPlaceholder,
                    trustMessageText: textSettings.trustMessageText,
                    trustLinkText: textSettings.trustLinkText,
                    trustLinkUrl: textSettings.trustLinkUrl,
                  }}
                />
              </div>
            ) : isUrgentAppeal ? (
              <div class="lg:hidden" data-mobile-donate>
                <UrgentAppealDonationBox
                  campaignSlug={campaign.slug}
                  campaignTitle={campaign.title}
                  campaignImage={campaign.featured_image}
                  donationOptions={activeOptions}
                  colors={{
                    bgColor: colors.bgColor,
                    headerBgColor: colors.headerBgColor,
                    textColor: colors.textColor,
                    textMutedColor: colors.textMutedColor,
                    accentColor: colors.accentColor,
                    accentTextColor: colors.accentTextColor,
                    borderColor: colors.borderColor,
                  }}
                  textSettings={{
                    titleText: textSettings.titleText,
                    subtitleText: textSettings.subtitleText,
                    buttonText: textSettings.buttonText,
                    singleText: textSettings.singleText,
                    monthlyText: textSettings.monthlyText,
                    customAmountPlaceholder: textSettings.customAmountPlaceholder,
                  }}
                />
              </div>
            ) : isCWDonation ? (
              <div class="lg:hidden" data-mobile-donate>
                <CWDonationBox
                  campaignSlug={campaign.slug}
                  campaignTitle={campaign.title}
                  campaignImage={campaign.featured_image}
                  monthlyAmounts={cwConfig.monthlyAmounts}
                  oneTimeAmounts={cwConfig.oneTimeAmounts}
                  impactTexts={cwConfig.impactTexts}
                  monthlyImpactText={cwConfig.monthlyImpactText}
                  upsellBody={cwConfig.upsellBody}
                  upsellSubText={cwConfig.upsellSubText}
                  buttonTextMonthly={cwConfig.buttonTextMonthly}
                  buttonTextOneTime={cwConfig.buttonTextOneTime}
                  donationBoxHeading={cwConfig.donationBoxHeading}
                  frequencies={cwConfig.frequencies}
                />
              </div>
            ) : isHomeDonation ? (
              <div class="lg:hidden" data-mobile-donate>
                <HomeDonationBox campaignSlug={campaign.slug} campaignTitle={campaign.title} />
              </div>
            ) : (
              <div
                class="lg:hidden rounded-2xl p-6 shadow-xl"
                data-mobile-donate
                style={`background-color: ${colors.bgColor}; ${isWhiteTheme ? 'border: 2px solid #01534d;' : ''}`}
              >
                <div class="text-center mb-5">
                  {isDarkTeal ? (
                    <>
                      <p class="mb-1" style={`color: #d4c4a8; font-family: 'Playfair Display', Georgia, serif; font-style: italic; font-size: ${fontSizes.subtitleSize};`}>{textSettings.subtitleText}</p>
                      <h3 class="font-bold" style={`color: #ffffff; font-family: 'Signika', sans-serif; font-size: ${fontSizes.titleSize};`}>{textSettings.titleText}</h3>
                    </>
                  ) : (
                    <>
                      <h3 class="font-bold mb-1" style={`color: ${colors.textColor}; font-family: 'Signika', sans-serif; font-size: ${fontSizes.titleSize};`}>{textSettings.titleText}</h3>
                      <p style={`color: ${colors.textMutedColor}; font-size: ${fontSizes.subtitleSize};`}>{textSettings.subtitleText}</p>
                    </>
                  )}
                </div>
                <div class="grid grid-cols-3 gap-2 mb-4" id="mobile-amount-buttons">
                  {activeOptions.slice(0, 3).map((opt: any, index: number) => (
                    <button
                      type="button"
                      class="mobile-amount-btn py-3 rounded-lg border-2 font-semibold"
                      data-amount={opt.amount}
                      style={`color: ${colors.textColor}; border-color: ${colors.borderColor}; background-color: ${colors.inactiveBtnBg}; font-size: ${fontSizes.amountSize};`}
                      data-active-border={colors.borderColor}
                      data-active-bg={colors.activeBgColor}
                      data-active-text={colors.activeTextColor}
                      data-inactive-border={colors.borderColor}
                      data-inactive-bg={colors.inactiveBtnBg}
                      data-inactive-text={colors.textColor}
                    >
                      ${opt.amount}
                    </button>
                  ))}
                </div>
                <div class="relative mb-4">
                  <span id="mobile-custom-amount-symbol" class={`absolute left-3 top-1/2 -translate-y-1/2 font-bold ${isDarkTeal ? 'text-white/60' : 'text-gray-500'}`}>$</span>
                  <input
                    type="number"
                    id="mobile-custom-amount"
                    placeholder={textSettings.customAmountPlaceholder}
                    class={`w-full pl-8 pr-3 py-3 rounded-lg border-2 font-bold ${isDarkTeal ? 'bg-transparent text-white placeholder-white/50' : 'bg-white text-gray-800'}`}
                    style={`border-color: ${colors.borderColor};`}
                    data-active-border={colors.borderColor}
                    data-active-bg={colors.activeBgColor}
                    data-active-text={colors.activeTextColor}
                    data-inactive-border={colors.borderColor}
                    data-inactive-bg={isDarkTeal ? 'transparent' : '#ffffff'}
                    data-inactive-text={isDarkTeal ? '#ffffff' : '#1f2937'}
                  />
                </div>
                <button
                  type="button"
                  id="mobile-donate-btn"
                  class="w-full font-bold py-4 rounded-lg flex items-center justify-center gap-2"
                  style={`background-color: ${colors.accentColor}; color: ${colors.accentTextColor}; font-family: 'Signika', sans-serif; font-size: ${fontSizes.buttonSize};`}
                >
                  {textSettings.buttonText}
                  {isDarkTeal && (
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                  )}
                </button>
              </div>
            )}

            <!-- ═══════════════════════════════════════════════════════ -->
            <!-- 1. CRISIS SNAPSHOT (Stats from Crisis Statistics editor) -->
            <!-- ═══════════════════════════════════════════════════════ -->
            {impactStats.length > 0 && (
              <div class="bg-white rounded-md border border-gray-200 shadow-xl overflow-hidden">
                <div class="bg-[#F4F5F0] px-5 py-3 sm:px-7 sm:py-4 border-b border-[#e0e1dc]">
                  <h2 class="text-lg md:text-xl font-bold text-gray-800 leading-tight" style="font-family: 'Signika', sans-serif;">
                    Crisis Snapshot
                  </h2>
                </div>
                <div class={`grid grid-cols-2 ${impactStats.length === 5 ? 'md:grid-cols-5' : impactStats.length >= 4 ? 'md:grid-cols-4' : impactStats.length === 3 ? 'md:grid-cols-3' : 'md:grid-cols-2'}`}>
                  {impactStats.slice(0, 5).map((stat: { value: string; label: string }, idx: number) => (
                    <div class={`text-center py-6 px-3 ${idx > 0 ? 'border-l border-[#e0e1dc]' : ''}`}>
                      <p class="text-2xl md:text-3xl font-extrabold text-[#d97706] mb-1" style="font-family: 'Signika', sans-serif;">{stat.value}</p>
                      <p class="text-gray-500 text-[11px] uppercase tracking-widest font-semibold">{stat.label}</p>
                    </div>
                  ))}
                </div>
              </div>
            )}

            <!-- ═══════════════════════════════════════════════════════ -->
            <!-- 2. THE CRISIS (Short card — 3-4 lines, emotional)       -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <div class="bg-white rounded-md border border-gray-200 shadow-xl overflow-hidden">
              <div class="bg-[#F4F5F0] px-5 py-4 sm:px-7 sm:py-5 border-b border-[#e0e1dc]">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 leading-tight" style="font-family: 'Signika', sans-serif;">
                  {pageContent.theCrisis.heading}
                </h2>
              </div>
              <div class="px-5 py-5 sm:px-7 sm:py-6">
                {contentSections.length > 0 && contentSections[0]?.image && (
                  <img src={contentSections[0].image}
                    alt={pageContent.theCrisis.heading}
                    class="w-full h-48 md:h-56 object-cover rounded mb-5" />
                )}
                <div class="text-[15px] text-gray-600 leading-[1.8]" style="font-family: 'Lato', sans-serif;"
                  set:html={formatTextToHtml(
                    pageContent.theCrisis.content
                      || (contentSections.length > 0 && contentSections[0]?.content ? contentSections[0].content : '')
                      || campaign.description
                      || 'Families are facing an urgent humanitarian crisis. Without food, clean water, or medical care, millions are at risk — and the situation is getting worse every day. Your support can provide immediate relief to those who need it most.'
                  )}>
                </div>
              </div>
            </div>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!-- 3. HOW YOUR DONATION HELPS (Bullet card — scannable)   -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <div class="bg-white rounded-md border border-gray-200 shadow-xl overflow-hidden">
              <div class="bg-[#F4F5F0] px-5 py-4 sm:px-7 sm:py-5 border-b border-[#e0e1dc]">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 leading-tight" style="font-family: 'Signika', sans-serif;">
                  {pageContent.howDonationHelps.heading}
                </h2>
              </div>
              <div class="px-5 py-5 sm:px-7 sm:py-6">
                {contentSections.length > 1 && contentSections[1]?.image && (
                  <img src={contentSections[1].image}
                    alt={pageContent.howDonationHelps.heading}
                    class="w-full h-48 md:h-56 object-cover rounded mb-5" />
                )}
                {pageContent.howDonationHelps.items.length > 0 ? (
                  <div class="space-y-3">
                    {pageContent.howDonationHelps.items.map((item: { amount: string; label: string }) => (
                      <div class="flex items-start gap-3">
                        <div class="flex-shrink-0 w-6 h-6 rounded-full bg-[#d97706]/10 flex items-center justify-center mt-0.5">
                          <svg class="w-3.5 h-3.5 text-[#d97706]" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
                        </div>
                        <p class="text-[15px] text-gray-600 leading-relaxed" style="font-family: 'Lato', sans-serif;">
                          <span class="font-semibold text-gray-800">{item.amount}</span> — {item.label}
                        </p>
                      </div>
                    ))}
                  </div>
                ) : contentSections.length > 1 && contentSections[1]?.content ? (
                  <div class="text-[15px] text-gray-600 leading-[1.8] donation-help-bullets" style="font-family: 'Lato', sans-serif;"
                    set:html={formatTextToHtml(contentSections[1].content)}>
                  </div>
                ) : (
                  <div class="space-y-3">
                    {(activeOptions.length > 0 ? activeOptions.slice(0, 5) : hardcodedDefaults).map((opt: { amount: number; label?: string }) => (
                      <div class="flex items-start gap-3">
                        <div class="flex-shrink-0 w-6 h-6 rounded-full bg-[#d97706]/10 flex items-center justify-center mt-0.5">
                          <svg class="w-3.5 h-3.5 text-[#d97706]" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
                        </div>
                        <p class="text-[15px] text-gray-600 leading-relaxed" style="font-family: 'Lato', sans-serif;">
                          <span class="font-semibold text-gray-800">${opt.amount}</span> — {opt.label || 'Support our cause'}
                        </p>
                      </div>
                    ))}
                  </div>
                )}
              </div>
            </div>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!-- MID-PAGE CTA (Conversion booster)                       -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <div class="bg-gradient-to-r from-[#d97706] to-[#b45309] rounded-md shadow-xl overflow-hidden px-5 py-5 sm:px-7 sm:py-6 text-center">
              <h3 class="text-xl md:text-2xl font-bold text-white mb-2 leading-tight" style="font-family: 'Signika', sans-serif;">
                {pageContent.midCta.heading}
              </h3>
              <p class="text-white/70 text-[14px] mb-5" style="font-family: 'Lato', sans-serif;">
                {pageContent.midCta.subtext}
              </p>
              <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
                <a href="#donate"
                  class="mid-cta-btn w-full sm:w-auto inline-flex items-center justify-center gap-2 bg-white text-[#d97706] font-extrabold px-8 py-3 rounded text-[14px] uppercase tracking-[0.08em] hover:bg-gray-50 transition-all active:scale-[0.98]"
                  style="font-family: 'Signika', sans-serif;">
                  {pageContent.midCta.primaryButtonText}
                </a>
                <a href="#donate"
                  class="mid-cta-monthly-btn w-full sm:w-auto inline-flex items-center justify-center gap-2 bg-transparent border-2 border-white/30 text-white font-bold px-8 py-3 rounded text-[13px] uppercase tracking-wider hover:border-white/60 transition-all"
                  style="font-family: 'Signika', sans-serif;">
                  {pageContent.midCta.secondaryButtonText}
                </a>
              </div>
            </div>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!-- 4. CHOOSE YOUR IMPACT (Donation Tiers)                  -->
            <!-- ═══════════════════════════════════════════════════════ -->
            {activeOptions.length > 0 && (
              <div class="bg-white rounded-md border border-gray-200 shadow-xl overflow-hidden" id="donation-tiers">
                <div class="bg-[#F4F5F0] px-5 py-4 sm:px-7 sm:py-5 border-b border-[#e0e1dc]">
                  <h2 class="text-xl md:text-2xl font-bold text-gray-800 leading-tight" style="font-family: 'Signika', sans-serif;">
                    {pageContent.chooseYourImpact.heading}
                  </h2>
                  <p class="text-[13px] text-gray-500 mt-1">{pageContent.chooseYourImpact.subtext}</p>
                </div>

                <!-- Single / Monthly toggle (Monthly default) -->
                <div class="px-5 pt-4 sm:px-7">
                  <div class="inline-flex bg-[#f4f5f0] rounded border border-[#e0e1dc] p-0.5">
                    <button type="button"
                      class="tier-type-btn px-5 py-2 rounded text-[13px] font-bold uppercase tracking-wider transition-all"
                      data-tier-type="single"
                      style="color: #9ca3af;">
                      {pageContent.chooseYourImpact.singleTabText}
                    </button>
                    <button type="button"
                      class="tier-type-btn px-5 py-2 rounded text-[13px] font-bold uppercase tracking-wider transition-all"
                      data-tier-type="monthly"
                      style="background-color: #d97706; color: #ffffff;">
                      {pageContent.chooseYourImpact.monthlyTabText}
                    </button>
                  </div>
                </div>

                <!-- Tier rows -->
                <div class="px-5 sm:px-7 py-4 space-y-2.5">
                  {activeOptions.map((opt: any) => (
                    <button type="button"
                      class="tier-row w-full flex items-center gap-3 bg-[#f4f5f0] border border-[#e0e1dc] rounded px-4 py-3.5 hover:border-[#d97706] hover:bg-[#d97706]/5 transition-all group cursor-pointer text-left"
                      data-tier-amount={opt.amount}
                      data-tier-label={opt.label || `$${opt.amount} Donation`}>
                      <div class="flex-shrink-0 min-w-[70px] md:min-w-[80px]">
                        <span class="font-bold text-[17px] text-gray-800" style="font-family: 'Signika', sans-serif;">
                          ${opt.amount.toLocaleString()}
                        </span>
                      </div>
                      <div class="w-px h-8 bg-[#e0e1dc] flex-shrink-0"></div>
                      <div class="flex-1 min-w-0">
                        <p class="text-[14px] text-gray-600 leading-snug">{opt.label || 'Support our cause'}</p>
                        <p class="tier-monthly-hint text-[11px] text-gray-400 mt-0.5" style="display: none;">Just ${Math.ceil(opt.amount / 12)}/month</p>
                      </div>
                      <div class="flex-shrink-0">
                        <span class="inline-flex items-center justify-center w-9 h-9 rounded-full bg-[#d97706] text-white group-hover:scale-110 group-hover:shadow-md transition-all">
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path>
                          </svg>
                        </span>
                      </div>
                    </button>
                  ))}

                  <!-- Custom amount -->
                  <div class="flex items-center gap-3 bg-[#f4f5f0] border border-[#e0e1dc] rounded px-4 py-3">
                    <div class="flex-shrink-0 min-w-[70px] md:min-w-[80px]">
                      <span class="font-bold text-[14px] text-gray-400 uppercase tracking-wider">Other</span>
                    </div>
                    <div class="w-px h-8 bg-[#e0e1dc] flex-shrink-0"></div>
                    <div class="flex-1">
                      <div class="relative">
                        <span class="absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 font-bold text-[15px]">$</span>
                        <input type="number" id="tier-custom-amount" min="1" placeholder="Enter amount"
                          class="w-full pl-8 pr-3 py-2 bg-white rounded border border-[#e0e1dc] focus:border-[#d97706] focus:outline-none font-bold text-[15px] text-gray-800 placeholder-gray-400" />
                      </div>
                    </div>
                    <div class="flex-shrink-0">
                      <button type="button" id="tier-custom-add-btn"
                        class="inline-flex items-center justify-center w-9 h-9 rounded-full bg-[#d97706] text-white hover:scale-110 hover:shadow-md transition-all">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"></path>
                        </svg>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            )}

            <!-- ═══════════════════════════════════════════════════════ -->
            <!-- 5. WHY MONTHLY MATTERS                                  -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <div class="bg-white rounded-md border border-gray-200 shadow-xl overflow-hidden">
              <div class="bg-[#F4F5F0] px-5 py-4 sm:px-7 sm:py-5 border-b border-[#e0e1dc]">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 leading-tight" style="font-family: 'Signika', sans-serif;">
                  {pageContent.whyMonthly.heading}
                </h2>
              </div>
              <div class="px-5 py-5 sm:px-7 sm:py-6">
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mb-4">
                  {pageContent.whyMonthly.benefits.map((benefit: string) => (
                    <div class="flex items-center gap-3 bg-[#f4f5f0] rounded px-4 py-3">
                      <div class="flex-shrink-0 w-7 h-7 rounded-full bg-[#d97706]/10 flex items-center justify-center">
                        <svg class="w-3.5 h-3.5 text-[#d97706]" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
                      </div>
                      <p class="text-[14px] font-semibold text-gray-800">{benefit}</p>
                    </div>
                  ))}
                </div>
                <p class="text-[13px] text-gray-400 leading-relaxed" style="font-family: 'Lato', sans-serif;">
                  {pageContent.whyMonthly.footerText}
                </p>
              </div>
            </div>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!-- 6. TRANSPARENCY / FAQ (Expandable)                      -->
            <!-- ═══════════════════════════════════════════════════════ -->
            <div class="bg-white rounded-md border border-gray-200 shadow-xl overflow-hidden">
              <div class="bg-[#F4F5F0] px-5 py-4 sm:px-7 sm:py-5 border-b border-[#e0e1dc]">
                <h2 class="text-xl md:text-2xl font-bold text-gray-800 leading-tight" style="font-family: 'Signika', sans-serif;">
                  {pageContent.faq.heading}
                </h2>
              </div>
              <div class="divide-y divide-[#e0e1dc]">
                {pageContent.faq.items.map((faqItem: { question: string; answer: string }) => (
                  <div class="faq-item">
                    <button type="button" class="faq-toggle w-full flex items-center justify-between px-5 sm:px-7 py-4 text-left hover:bg-[#f4f5f0]/50 transition-colors">
                      <span class="text-[15px] font-semibold text-gray-800 pr-4">{faqItem.question}</span>
                      <svg class="faq-chevron w-5 h-5 text-gray-400 flex-shrink-0 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div class="faq-content hidden px-5 sm:px-7 pb-4">
                      <p class="text-[14px] text-gray-500 leading-relaxed">{faqItem.answer}</p>
                    </div>
                  </div>
                ))}
              </div>
            </div>

            <!-- ═══════════════════════════════════════════════════════ -->
            <!-- Additional Content Sections (3rd+ content sections)     -->
            <!-- ═══════════════════════════════════════════════════════ -->
            {contentSections.length > 2 && (
              <div class="bg-white rounded-md border border-gray-200 shadow-xl overflow-hidden">
                <div class="bg-[#F4F5F0] px-5 py-4 sm:px-7 sm:py-5 border-b border-[#e0e1dc]">
                  <h2 class="text-xl md:text-2xl font-bold text-gray-800 leading-tight" style="font-family: 'Signika', sans-serif;">
                    More About This Appeal
                  </h2>
                </div>
                <div class="px-5 py-5 sm:px-7 sm:py-6 space-y-6">
                  {contentSections.slice(2).map((section: any, idx: number) => (
                    <div class={idx > 0 ? 'pt-6 border-t border-[#e0e1dc]' : ''}>
                      {section.image && (
                        <img src={section.image} alt={section.title || ''} class="w-full h-44 object-cover rounded mb-4" />
                      )}
                      {section.title && (
                        <h3 class="text-lg font-bold text-gray-800 mb-2" style="font-family: 'Signika', sans-serif;">{section.title}</h3>
                      )}
                      {section.content && (
                        <div class="text-[15px] text-gray-600 leading-relaxed" style="font-family: 'Lato', sans-serif;" set:html={formatTextToHtml(section.content)}></div>
                      )}
                    </div>
                  ))}
                </div>
              </div>
            )}

            <!-- Gallery -->
            {galleryImages.length > 0 && (
              <div class="bg-white rounded-md border border-gray-200 shadow-xl overflow-hidden">
                <div class="bg-[#F4F5F0] px-5 py-4 sm:px-7 sm:py-5 border-b border-[#e0e1dc]">
                  <h2 class="text-xl md:text-2xl font-bold text-gray-800 leading-tight" style="font-family: 'Signika', sans-serif;">
                    Your Donations in Action
                  </h2>
                </div>
                <div class="px-5 py-5 sm:px-7 sm:py-6">
                  <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                    {galleryImages.map((img: string) => (
                      <div class="aspect-square rounded overflow-hidden group cursor-pointer">
                        <img src={img} alt="" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" />
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            )}

          </div>

          <!-- Right sidebar space (empty on desktop since donation box is sticky) -->
          <div class="hidden lg:block lg:col-span-2" id="sidebar-placeholder"></div>
        </div>
      </div>
    </section>

    <!-- ═══════════════════════════════════════════════════════ -->
    <!-- 7. FINAL CTA                                            -->
    <!-- ═══════════════════════════════════════════════════════ -->
    <section class="relative py-14 md:py-16 overflow-hidden" style="background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);">
      <!-- Subtle pattern -->
      <div class="absolute inset-0 opacity-[0.03]" style="background-image: url('data:image/svg+xml,%3Csvg width=&quot;60&quot; height=&quot;60&quot; viewBox=&quot;0 0 60 60&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;%3E%3Cg fill=&quot;%23fff&quot;%3E%3Ccircle cx=&quot;30&quot; cy=&quot;30&quot; r=&quot;1.5&quot;/%3E%3C/g%3E%3C/svg%3E');"></div>

      <div class="relative max-w-3xl mx-auto px-6 text-center">
        <!-- Accent line -->
        <div class="w-12 h-1 bg-[#d97706] mx-auto mb-6 rounded-full"></div>

        <h2 class="text-3xl md:text-4xl font-bold text-white mb-4 leading-tight" style="font-family: 'Signika', sans-serif;">
          {pageContent.finalCta.heading}
        </h2>
        <p class="text-base text-white/60 mb-8 max-w-xl mx-auto leading-relaxed" style="font-family: 'Lato', sans-serif;">
          {pageContent.finalCta.subtext}
        </p>

        <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
          <a href="#donate"
            class="w-full sm:w-auto inline-flex items-center justify-center gap-2 bg-[#d97706] text-white font-extrabold px-10 py-4 rounded text-[15px] uppercase tracking-[0.1em] hover:brightness-110 transition-all active:scale-[0.99]"
            style="font-family: 'Signika', sans-serif;">
            {pageContent.finalCta.primaryButtonText}
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
          </a>
          <a href="#donate"
            class="w-full sm:w-auto inline-flex items-center justify-center gap-2 bg-transparent border-2 border-white/20 text-white/80 font-bold px-10 py-4 rounded text-[14px] uppercase tracking-wider hover:border-white/40 hover:text-white transition-all"
            style="font-family: 'Signika', sans-serif;"
            onclick="document.querySelectorAll('.tier-type-btn')[1]?.click();">
            {pageContent.finalCta.secondaryButtonText}
          </a>
        </div>

        <!-- Trust line -->
        <p class="text-white/30 text-xs mt-6 uppercase tracking-wider">
          Secure Payment &bull; 100% Donation Policy &bull; Tax Deductible
        </p>
      </div>
    </section>
  </main>

  <Footer />
</Layout>

<script define:vars={{ campaignData: { slug: campaign.slug, title: campaign.title, image: campaign.featured_image }, donationOpts: activeOptions, boxTemplate: donationBoxTemplate, colorConfig: colors }}>
  let selectedAmount = 0; // No default selection
  let selectedLabel = '';
  let donationType = 'single';

  document.addEventListener('DOMContentLoaded', function() {
    // Donation box elements
    const typeButtons = document.querySelectorAll('.donation-type-btn');
    const amountButtons = document.querySelectorAll('.amount-btn');
    const customInput = document.getElementById('custom-amount');
    const donateBtn = document.getElementById('donate-btn');

    // Mobile donation box elements
    const mobileAmountButtons = document.querySelectorAll('.mobile-amount-btn');
    const mobileCustomInput = document.getElementById('mobile-custom-amount');
    const mobileDonateBtn = document.getElementById('mobile-donate-btn');

    // Fixed donation box positioning
    const fixedDonateBox = document.getElementById('fixed-donate-box');
    const placeholder = document.getElementById('donation-box-placeholder');
    const contentSection = document.getElementById('content-section');

    let boxHeight = 0;

    function initDonateBox() {
      if (!fixedDonateBox || window.innerWidth < 1024) {
        if (fixedDonateBox) fixedDonateBox.style.display = 'none';
        return;
      }

      fixedDonateBox.style.display = 'block';
      boxHeight = fixedDonateBox.offsetHeight;
      positionDonateBox();
      // Show the box after positioning
      fixedDonateBox.classList.remove('opacity-0');
    }

    function positionDonateBox() {
      if (!fixedDonateBox || !contentSection || !placeholder || window.innerWidth < 1024) {
        return;
      }

      const placeholderRect = placeholder.getBoundingClientRect();
      const contentRect = contentSection.getBoundingClientRect();

      // Horizontal position - align with placeholder
      fixedDonateBox.style.left = placeholderRect.left + 'px';
      fixedDonateBox.style.width = placeholderRect.width + 'px';

      // Vertical position - align donation box slightly above the campaign title
      const heroTitle = document.querySelector('#hero-container h1');
      const titleTop = heroTitle ? heroTitle.getBoundingClientRect().top : 0;
      const normalTop = Math.max(titleTop - 60, 144);
      const contentBottomInViewport = contentRect.bottom;
      const maxBoxBottom = contentBottomInViewport - 40; // Box bottom should not go past this
      const calculatedTop = maxBoxBottom - boxHeight;

      if (calculatedTop < normalTop) {
        fixedDonateBox.style.top = calculatedTop + 'px';
      } else {
        fixedDonateBox.style.top = normalTop + 'px';
      }

      // Swap the donation box heading color when it crosses from hero (dark) to content (white)
      const isOverWhiteBg = contentRect.top < 160;
      var boxHeading = fixedDonateBox.querySelector('[data-box-heading]');
      if (boxHeading) {
        boxHeading.style.color = isOverWhiteBg ? '#1f2937' : '#ffffff';
      }
    }

    // Initialize and set up listeners
    setTimeout(initDonateBox, 200);
    window.addEventListener('scroll', positionDonateBox, { passive: true });
    window.addEventListener('resize', initDonateBox);

    // Sync amount buttons using inline styles
    function syncAmountSelection(amount, source) {
      selectedAmount = amount;
      const option = donationOpts.find(o => o.amount === amount);
      selectedLabel = option ? option.label : 'Custom Amount';

      // Update main buttons using data attributes for colors
      amountButtons.forEach(b => {
        const activeBorder = b.dataset.activeBorder;
        const activeBg = b.dataset.activeBg;
        const activeText = b.dataset.activeText || '#ffffff';
        const inactiveBorder = b.dataset.inactiveBorder;
        const inactiveBg = b.dataset.inactiveBg || 'transparent';
        const inactiveText = b.dataset.inactiveText || '#ffffff';

        if (parseFloat(b.dataset.amount) === amount) {
          b.style.borderColor = activeBorder;
          b.style.backgroundColor = activeBg;
          b.style.color = activeText;
          b.classList.add('selected');
        } else {
          b.style.borderColor = inactiveBorder;
          b.style.backgroundColor = inactiveBg;
          b.style.color = inactiveText;
          b.classList.remove('selected');
        }
      });

      // Update mobile buttons
      mobileAmountButtons.forEach(b => {
        const activeBorder = b.dataset.activeBorder;
        const activeBg = b.dataset.activeBg;
        const activeText = b.dataset.activeText || '#ffffff';
        const inactiveBorder = b.dataset.inactiveBorder;
        const inactiveBg = b.dataset.inactiveBg || 'transparent';
        const inactiveText = b.dataset.inactiveText || '#ffffff';

        if (parseFloat(b.dataset.amount) === amount) {
          b.style.borderColor = activeBorder;
          b.style.backgroundColor = activeBg;
          b.style.color = activeText;
        } else {
          b.style.borderColor = inactiveBorder;
          b.style.backgroundColor = inactiveBg;
          b.style.color = inactiveText;
        }
      });

      // Clear custom inputs and reset their styling when preset buttons are clicked
      if (source === 'main' || source === 'init' || source === 'mobile') {
        if (customInput) {
          customInput.value = '';
          customInput.style.borderColor = customInput.dataset.inactiveBorder;
          customInput.style.backgroundColor = customInput.dataset.inactiveBg;
          customInput.style.color = customInput.dataset.inactiveText;
        }
        if (mobileCustomInput) {
          mobileCustomInput.value = '';
          mobileCustomInput.style.borderColor = mobileCustomInput.dataset.inactiveBorder;
          mobileCustomInput.style.backgroundColor = mobileCustomInput.dataset.inactiveBg;
          mobileCustomInput.style.color = mobileCustomInput.dataset.inactiveText;
        }
      }
    }

    // Type toggle using inline styles
    const isWhite = boxTemplate === 'white';
    typeButtons.forEach(btn => {
      btn.addEventListener('click', function() {
        donationType = this.dataset.type;
        typeButtons.forEach(b => {
          if (b.dataset.type === donationType) {
            b.style.backgroundColor = colorConfig.toggleActiveColor;
            b.style.color = isWhite ? '#ffffff' : colorConfig.textColor;
          } else {
            b.style.backgroundColor = 'transparent';
            b.style.color = isWhite ? '#01534d' : colorConfig.textMutedColor;
          }
        });
      });
    });

    // Main amount buttons
    amountButtons.forEach(btn => {
      btn.addEventListener('click', function() {
        syncAmountSelection(parseFloat(this.dataset.amount), 'main');
      });
    });

    // Mobile amount buttons
    mobileAmountButtons.forEach(btn => {
      btn.addEventListener('click', function() {
        syncAmountSelection(parseFloat(this.dataset.amount), 'mobile');
      });
    });

    // Helper to style custom input as active
    function setCustomInputActive(input, isActive) {
      if (!input) return;
      if (isActive) {
        input.style.borderColor = input.dataset.activeBorder;
        input.style.backgroundColor = input.dataset.activeBg;
        input.style.color = input.dataset.activeText;
      } else {
        input.style.borderColor = input.dataset.inactiveBorder;
        input.style.backgroundColor = input.dataset.inactiveBg;
        input.style.color = input.dataset.inactiveText;
      }
    }

    // Custom inputs - use 'custom' source so we don't clear the input
    if (customInput) {
      customInput.addEventListener('focus', function() {
        // Style as active when focused
        setCustomInputActive(this, true);
        if (mobileCustomInput) setCustomInputActive(mobileCustomInput, true);
      });

      customInput.addEventListener('blur', function() {
        // Only remove active style if empty
        if (!this.value) {
          setCustomInputActive(this, false);
          if (mobileCustomInput) setCustomInputActive(mobileCustomInput, false);
        }
      });

      customInput.addEventListener('input', function() {
        if (this.value) {
          selectedAmount = parseFloat(this.value);
          selectedLabel = 'Custom Amount';
          // Style custom input as active
          setCustomInputActive(this, true);
          if (mobileCustomInput) {
            setCustomInputActive(mobileCustomInput, true);
            mobileCustomInput.value = this.value;
          }
          // Deselect all preset buttons
          amountButtons.forEach(b => {
            b.style.borderColor = b.dataset.inactiveBorder;
            b.style.backgroundColor = b.dataset.inactiveBg || 'transparent';
            b.style.color = b.dataset.inactiveText || '#ffffff';
            b.classList.remove('selected');
          });
          mobileAmountButtons.forEach(b => {
            b.style.borderColor = b.dataset.inactiveBorder;
            b.style.backgroundColor = b.dataset.inactiveBg || 'transparent';
            b.style.color = b.dataset.inactiveText || '#ffffff';
          });
        } else {
          // If cleared, remove active style
          setCustomInputActive(this, false);
          if (mobileCustomInput) setCustomInputActive(mobileCustomInput, false);
        }
      });
    }

    if (mobileCustomInput) {
      mobileCustomInput.addEventListener('focus', function() {
        setCustomInputActive(this, true);
        if (customInput) setCustomInputActive(customInput, true);
      });

      mobileCustomInput.addEventListener('blur', function() {
        if (!this.value) {
          setCustomInputActive(this, false);
          if (customInput) setCustomInputActive(customInput, false);
        }
      });

      mobileCustomInput.addEventListener('input', function() {
        if (this.value) {
          selectedAmount = parseFloat(this.value);
          selectedLabel = 'Custom Amount';
          // Style custom input as active
          setCustomInputActive(this, true);
          if (customInput) {
            setCustomInputActive(customInput, true);
            customInput.value = this.value;
          }
          // Deselect all preset buttons
          amountButtons.forEach(b => {
            b.style.borderColor = b.dataset.inactiveBorder;
            b.style.backgroundColor = b.dataset.inactiveBg || 'transparent';
            b.style.color = b.dataset.inactiveText || '#ffffff';
            b.classList.remove('selected');
          });
          mobileAmountButtons.forEach(b => {
            b.style.borderColor = b.dataset.inactiveBorder;
            b.style.backgroundColor = b.dataset.inactiveBg || 'transparent';
            b.style.color = b.dataset.inactiveText || '#ffffff';
          });
        } else {
          setCustomInputActive(this, false);
          if (customInput) setCustomInputActive(customInput, false);
        }
      });
    }

    // Donate function
    function handleDonate() {
      const amount = selectedAmount;
      if (!amount || amount < 1) {
        alert('Please enter a valid amount');
        return;
      }

      const itemId = `${campaignData.slug}-${amount}-${donationType}`;

      window.addToCart({
        id: itemId,
        name: campaignData.title,
        label: selectedLabel || `$${amount} Donation`,
        amount: amount,
        quantity: 1,
        type: donationType,
        image: campaignData.image,
        campaign: campaignData.slug
      });
    }

    // Donate buttons
    donateBtn.addEventListener('click', handleDonate);
    if (mobileDonateBtn) {
      mobileDonateBtn.addEventListener('click', handleDonate);
    }

    // Set initial selection
    if (amountButtons.length > 0) {
      const firstBtn = amountButtons[0];
      syncAmountSelection(parseFloat(firstBtn.dataset.amount), 'init');
    }

    // ══════════════════════════════════════════════════════
    // DONATION TIER LIST LOGIC
    // ══════════════════════════════════════════════════════
    var tierDonationType = 'monthly';

    // Tier type toggle (Single / Monthly)
    var tierTypeButtons = document.querySelectorAll('.tier-type-btn');
    var monthlyHints = document.querySelectorAll('.tier-monthly-hint');

    tierTypeButtons.forEach(function(btn) {
      btn.addEventListener('click', function() {
        tierDonationType = this.dataset.tierType;
        tierTypeButtons.forEach(function(b) {
          if (b.dataset.tierType === tierDonationType) {
            b.style.backgroundColor = '#d97706';
            b.style.color = '#ffffff';
          } else {
            b.style.backgroundColor = 'transparent';
            b.style.color = '#9ca3af';
          }
        });
        // Show monthly hints only on single tab
        monthlyHints.forEach(function(hint) {
          hint.style.display = tierDonationType === 'single' ? 'block' : 'none';
        });
      });
    });

    // Tier row click → add to cart
    var tierRows = document.querySelectorAll('.tier-row');
    tierRows.forEach(function(row) {
      row.addEventListener('click', function() {
        var amount = parseFloat(this.dataset.tierAmount);
        var label = this.dataset.tierLabel;
        if (!amount || amount < 1) return;

        var itemId = campaignData.slug + '-' + amount + '-' + tierDonationType;

        window.addToCart({
          id: itemId,
          name: campaignData.title,
          label: label,
          amount: amount,
          quantity: 1,
          type: tierDonationType,
          image: campaignData.image,
          campaign: campaignData.slug
        });

        // Brief visual feedback
        var el = this;
        el.style.backgroundColor = 'rgba(1, 83, 77, 0.08)';
        setTimeout(function() { el.style.backgroundColor = ''; }, 400);
      });
    });

    // Custom amount in tier list
    var tierCustomInput = document.getElementById('tier-custom-amount');
    var tierCustomAddBtn = document.getElementById('tier-custom-add-btn');

    if (tierCustomAddBtn && tierCustomInput) {
      tierCustomAddBtn.addEventListener('click', function() {
        var amount = parseFloat(tierCustomInput.value);
        if (!amount || amount < 1) {
          tierCustomInput.style.borderColor = '#ef4444';
          setTimeout(function() { tierCustomInput.style.borderColor = '#e5e7eb'; }, 1500);
          return;
        }
        var itemId = campaignData.slug + '-' + amount + '-' + tierDonationType;
        window.addToCart({
          id: itemId,
          name: campaignData.title,
          label: 'Custom Amount',
          amount: amount,
          quantity: 1,
          type: tierDonationType,
          image: campaignData.image,
          campaign: campaignData.slug
        });
        tierCustomInput.value = '';
      });

      tierCustomInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
          e.preventDefault();
          tierCustomAddBtn.click();
        }
      });
    }

    // ══════════════════════════════════════════════════════
    // FAQ ACCORDION LOGIC
    // ══════════════════════════════════════════════════════
    var faqToggles = document.querySelectorAll('.faq-toggle');
    faqToggles.forEach(function(toggle) {
      toggle.addEventListener('click', function() {
        var item = this.closest('.faq-item');
        var content = item.querySelector('.faq-content');
        var chevron = this.querySelector('.faq-chevron');
        var isOpen = !content.classList.contains('hidden');

        // Close all other FAQs (accordion behavior)
        faqToggles.forEach(function(otherToggle) {
          var otherItem = otherToggle.closest('.faq-item');
          var otherContent = otherItem.querySelector('.faq-content');
          var otherChevron = otherToggle.querySelector('.faq-chevron');
          if (otherItem !== item) {
            otherContent.classList.add('hidden');
            otherChevron.style.transform = 'rotate(0deg)';
          }
        });

        // Toggle current FAQ
        if (isOpen) {
          content.classList.add('hidden');
          chevron.style.transform = 'rotate(0deg)';
        } else {
          content.classList.remove('hidden');
          chevron.style.transform = 'rotate(180deg)';
        }
      });
    });

    // ══════════════════════════════════════════════════════
    // CTA SCROLL & INTERACTION LOGIC
    // ══════════════════════════════════════════════════════
    var ctaButtons = document.querySelectorAll('a[href="#donate"]');
    ctaButtons.forEach(function(btn) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        var heroSection = document.getElementById('hero-container');
        if (heroSection) {
          heroSection.scrollIntoView({ behavior: 'smooth' });
        }
      });
    });

    // Mid-CTA monthly button → scroll + switch to monthly
    var midCtaMonthly = document.querySelector('.mid-cta-monthly-btn');
    if (midCtaMonthly) {
      midCtaMonthly.addEventListener('click', function(e) {
        e.preventDefault();
        // Switch donation box to monthly
        var monthlyTypeBtn = document.querySelector('.donation-type-btn[data-type="monthly"]');
        if (monthlyTypeBtn) monthlyTypeBtn.click();
        var heroSection = document.getElementById('hero-container');
        if (heroSection) {
          heroSection.scrollIntoView({ behavior: 'smooth' });
        }
      });
    }
  });
</script>

<style is:global>
  /* Bullet list styling for CMS content in donation help section */
  .donation-help-bullets ul,
  .donation-help-bullets ol {
    padding-left: 0;
    list-style: none;
    margin: 0;
  }
  .donation-help-bullets li {
    position: relative;
    padding-left: 1.75rem;
    margin-bottom: 0.75rem;
    line-height: 1.7;
  }
  .donation-help-bullets li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.5rem;
    width: 8px;
    height: 8px;
    background: #d97706;
    border-radius: 50%;
  }
</style>
