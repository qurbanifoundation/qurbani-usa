---
/**
 * DonationBox - Reusable donation widget wrapper
 *
 * Usage:
 *   <DonationBox campaignSlug="emergencies" />
 *   <DonationBox campaignSlug="gaza-emergency" template="compact" />
 *
 * Templates available:
 *   - "most-needed" (default): Dark teal theme, full featured
 *   - "compact": Smaller version for sidebars
 *   - "hero": Designed for hero sections (lighter theme)
 */

import MostNeededTemplate from './templates/MostNeededTemplate.astro';

interface Props {
  campaignSlug?: string;
  campaignTitle?: string;
  template?: 'most-needed' | 'compact' | 'hero';
  currency?: string;
  defaultAmounts?: number[];
  fundTypes?: string[];
}

const {
  campaignSlug = 'general',
  campaignTitle = 'Most Needed',
  template = 'most-needed',
  currency = '$',
  defaultAmounts = [40, 50, 100],
  fundTypes = ['General Donation', 'Emergency Relief', 'Orphan Support', 'Water Projects'],
} = Astro.props;

// In future, fetch campaign details from Supabase here
// const campaign = await getCampaign(campaignSlug);
---

{template === 'most-needed' && (
  <MostNeededTemplate
    campaignSlug={campaignSlug}
    campaignTitle={campaignTitle}
    currency={currency}
    defaultAmounts={defaultAmounts}
    fundTypes={fundTypes}
  />
)}

{template === 'compact' && (
  <MostNeededTemplate
    campaignSlug={campaignSlug}
    campaignTitle={campaignTitle}
    currency={currency}
    defaultAmounts={defaultAmounts}
    fundTypes={fundTypes}
    compact={true}
  />
)}

{template === 'hero' && (
  <!-- Hero template - can be added later -->
  <MostNeededTemplate
    campaignSlug={campaignSlug}
    campaignTitle={campaignTitle}
    currency={currency}
    defaultAmounts={defaultAmounts}
    fundTypes={fundTypes}
  />
)}
