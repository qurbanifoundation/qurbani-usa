---
import AdminLayout from '../../../layouts/AdminLayout.astro';
import SettingsTabs from '../../../components/admin/SettingsTabs.astro';

const integrations = [
  {
    id: 'stripe',
    name: 'Stripe',
    description: 'Payment processing for donations',
    icon: 'stripe',
    connected: true,
    status: 'Live Mode',
  },
  {
    id: 'supabase',
    name: 'Supabase',
    description: 'Database and authentication',
    icon: 'database',
    connected: true,
    status: 'Connected',
  },
  {
    id: 'mailchimp',
    name: 'Mailchimp',
    description: 'Email marketing and newsletters',
    icon: 'mail',
    connected: false,
    status: 'Not connected',
  },
  {
    id: 'google-analytics',
    name: 'Google Analytics',
    description: 'Website traffic and analytics',
    icon: 'chart',
    connected: true,
    status: 'GA4 Active',
  },
  {
    id: 'facebook-pixel',
    name: 'Facebook Pixel',
    description: 'Conversion tracking and remarketing',
    icon: 'facebook',
    connected: false,
    status: 'Not connected',
  },
  {
    id: 'cloudflare',
    name: 'Cloudflare',
    description: 'CDN and edge deployment',
    icon: 'cloud',
    connected: true,
    status: 'Active',
  },
];
---

<AdminLayout title="Settings" activeNav="settings">
  <div class="max-w-4xl">
    <SettingsTabs active="integrations" />

    <!-- Payment Processing -->
    <div class="mb-8">
      <h2 class="text-lg font-bold text-gray-800 mb-4">Payment Processing</h2>
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 divide-y divide-gray-100">
        <!-- Stripe -->
        <div class="p-6 flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-[#635bff]/10 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-[#635bff]" viewBox="0 0 24 24" fill="currentColor">
                <path d="M13.976 9.15c-2.172-.806-3.356-1.426-3.356-2.409 0-.831.683-1.305 1.901-1.305 2.227 0 4.515.858 6.09 1.631l.89-5.494C18.252.975 15.697 0 12.165 0 9.667 0 7.589.654 6.104 1.872 4.56 3.147 3.757 4.992 3.757 7.218c0 4.039 2.467 5.76 6.476 7.219 2.585.92 3.445 1.574 3.445 2.583 0 .98-.84 1.545-2.354 1.545-1.875 0-4.965-.921-6.99-2.109l-.9 5.555C5.175 22.99 8.385 24 11.714 24c2.641 0 4.843-.624 6.328-1.813 1.664-1.305 2.525-3.236 2.525-5.732 0-4.128-2.524-5.851-6.591-7.305z"/>
              </svg>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Stripe</p>
              <p class="text-sm text-gray-500">Payment processing for donations</p>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
              Live Mode
            </span>
            <button class="px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition">
              Configure
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Database & Auth -->
    <div class="mb-8">
      <h2 class="text-lg font-bold text-gray-800 mb-4">Database & Authentication</h2>
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 divide-y divide-gray-100">
        <!-- Supabase -->
        <div class="p-6 flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-[#3ecf8e]/10 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-[#3ecf8e]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"></path>
              </svg>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Supabase</p>
              <p class="text-sm text-gray-500">Database and authentication</p>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
              Connected
            </span>
            <button class="px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition">
              Configure
            </button>
          </div>
        </div>

        <!-- Cloudflare -->
        <div class="p-6 flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-[#f38020]/10 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-[#f38020]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"></path>
              </svg>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Cloudflare</p>
              <p class="text-sm text-gray-500">CDN and edge deployment</p>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
              Active
            </span>
            <button class="px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition">
              Configure
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Analytics & Marketing -->
    <div class="mb-8">
      <h2 class="text-lg font-bold text-gray-800 mb-4">Analytics & Marketing</h2>
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 divide-y divide-gray-100">
        <!-- Google Analytics -->
        <div class="p-6 flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-[#e37400]/10 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-[#e37400]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
              </svg>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Google Analytics</p>
              <p class="text-sm text-gray-500">Website traffic and analytics</p>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
              GA4 Active
            </span>
            <button class="px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition">
              Configure
            </button>
          </div>
        </div>

        <!-- Mailchimp -->
        <div class="p-6 flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
              </svg>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Mailchimp</p>
              <p class="text-sm text-gray-500">Email marketing and newsletters</p>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
              Not connected
            </span>
            <button class="px-4 py-2 bg-[#01534d] text-white rounded-lg text-sm font-medium hover:bg-[#013d39] transition">
              Connect
            </button>
          </div>
        </div>

        <!-- Facebook Pixel -->
        <div class="p-6 flex items-center justify-between">
          <div class="flex items-center gap-4">
            <div class="w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center">
              <svg class="w-6 h-6 text-gray-400" fill="currentColor" viewBox="0 0 24 24">
                <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/>
              </svg>
            </div>
            <div>
              <p class="font-semibold text-gray-800">Facebook Pixel</p>
              <p class="text-sm text-gray-500">Conversion tracking and remarketing</p>
            </div>
          </div>
          <div class="flex items-center gap-4">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
              Not connected
            </span>
            <button class="px-4 py-2 bg-[#01534d] text-white rounded-lg text-sm font-medium hover:bg-[#013d39] transition">
              Connect
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- API Keys -->
    <div>
      <h2 class="text-lg font-bold text-gray-800 mb-4">API Keys</h2>
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
        <p class="text-sm text-gray-500 mb-4">Manage your API keys for external integrations.</p>

        <div class="space-y-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Stripe Publishable Key</label>
            <div class="flex gap-2">
              <input
                type="password"
                value="pk_live_xxxxxxxxxxxx"
                readonly
                class="flex-1 px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500"
              />
              <button class="px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition">
                Show
              </button>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Stripe Secret Key</label>
            <div class="flex gap-2">
              <input
                type="password"
                value="sk_live_xxxxxxxxxxxx"
                readonly
                class="flex-1 px-4 py-2 border border-gray-200 rounded-lg bg-gray-50 text-gray-500"
              />
              <button class="px-4 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition">
                Show
              </button>
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Google Analytics ID</label>
            <input
              type="text"
              value="G-XXXXXXXXXX"
              class="w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#01534d] focus:border-transparent"
            />
          </div>
        </div>

        <div class="flex justify-end mt-6">
          <button class="px-6 py-2 bg-[#01534d] text-white rounded-lg font-medium hover:bg-[#013d39] transition">
            Save Changes
          </button>
        </div>
      </div>
    </div>
  </div>
</AdminLayout>
