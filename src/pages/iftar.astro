---
/**
 * Feed Iftar Page
 * Explains Iftar feeding programs and provides donation options ($5/meal)
 */
export const prerender = false;

import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Feed Iftar - Qurbani Foundation USA" description="Provide iftar meals to fasting people in need. Just $5 provides a nutritious iftar meal. Earn immense rewards by feeding those who are fasting.">
  <Navbar />

  <!-- Hero Section -->
  <section class="relative pt-24 pb-20 overflow-hidden">
    <!-- Background gradient -->
    <div class="absolute inset-0 bg-gradient-to-br from-[#c2410c] via-[#ea580c] to-[#f97316]"></div>
    <!-- Decorative pattern -->
    <div class="absolute inset-0 opacity-10">
      <div class="absolute inset-0" style="background-image: url('data:image/svg+xml,%3Csvg width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" xmlns=\"http://www.w3.org/2000/svg\"%3E%3Cg fill=\"none\" fill-rule=\"evenodd\"%3E%3Cg fill=\"%23ffffff\" fill-opacity=\"0.4\"%3E%3Cpath d=\"M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"></div>
    </div>

    <div class="relative z-10 max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center max-w-3xl mx-auto">
        <!-- Breadcrumb -->
        <div class="flex items-center justify-center gap-2 text-white/60 text-sm mb-6">
          <a href="/" class="hover:text-white transition">Home</a>
          <span>/</span>
          <a href="/ramadan" class="hover:text-white transition">Ramadan 2026</a>
          <span>/</span>
          <span class="text-white">Feed Iftar</span>
        </div>

        <!-- Icon -->
        <div class="w-20 h-20 mx-auto mb-6 bg-white/10 rounded-full flex items-center justify-center backdrop-blur-sm border border-white/20">
          <svg class="w-10 h-10 text-white" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M6 3a1 1 0 011-1h.01a1 1 0 010 2H7a1 1 0 01-1-1zm2 3a1 1 0 00-2 0v1a2 2 0 00-2 2v1a2 2 0 00-2 2v.683a3.7 3.7 0 011.055.485 1.704 1.704 0 001.89 0 3.704 3.704 0 014.11 0 1.704 1.704 0 001.89 0 3.704 3.704 0 014.11 0 1.704 1.704 0 001.89 0A3.7 3.7 0 0118 12.683V12a2 2 0 00-2-2V9a2 2 0 00-2-2V6a1 1 0 10-2 0v1h-1V6a1 1 0 10-2 0v1H8V6zm10 8.868a3.704 3.704 0 01-4.055-.036 1.704 1.704 0 00-1.89 0 3.704 3.704 0 01-4.11 0 1.704 1.704 0 00-1.89 0A3.704 3.704 0 012 14.868V17a1 1 0 001 1h14a1 1 0 001-1v-2.132z" clip-rule="evenodd"></path>
          </svg>
        </div>

        <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6" style="font-family: 'Signika', sans-serif;">
          Feed <span class="text-[#fdc448]">Iftar</span>
        </h1>

        <p class="text-lg md:text-xl text-white/90 mb-4 leading-relaxed" style="font-family: 'Lato', sans-serif;">
          Share the blessing of breaking fast with those in need
        </p>

        <div class="inline-block bg-white/20 backdrop-blur-sm text-white text-xl font-bold px-6 py-3 rounded-full border border-white/30">
          $5 per meal
        </div>
      </div>
    </div>

    <!-- Wave divider -->
    <div class="absolute bottom-0 left-0 right-0">
      <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" class="w-full h-16">
        <path d="M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="white"/>
      </svg>
    </div>
  </section>

  <!-- Main Content -->
  <section class="py-16 bg-white">
    <div class="max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid lg:grid-cols-2 gap-12 items-start">
        <!-- Left Column - Information -->
        <div>
          <h2 class="text-3xl font-bold text-gray-800 mb-6" style="font-family: 'Signika', sans-serif;">
            The Reward of Feeding <span class="text-[#ea580c]">Iftar</span>
          </h2>

          <div class="prose prose-lg max-w-none text-gray-600" style="font-family: 'Lato', sans-serif;">
            <p class="mb-4">
              Iftar is the evening meal with which Muslims break their daily fast during Ramadan. Providing iftar to those who are fasting carries immense spiritual rewards and is one of the most beloved acts of charity during the blessed month.
            </p>

            <div class="bg-[#ea580c]/10 border-l-4 border-[#ea580c] p-4 rounded-r-lg mb-6">
              <p class="text-sm text-gray-700 italic">
                "Whoever feeds a fasting person will have a reward like that of the fasting person, without any reduction in his reward."
                <span class="block mt-1 font-semibold">- Prophet Muhammad (PBUH), Tirmidhi</span>
              </p>
            </div>

            <p class="mb-6">
              This hadith tells us that by providing iftar to someone who is fasting, you receive the same reward as their entire fast - without their reward being diminished at all. This is the beautiful multiplication of rewards that Allah provides during Ramadan.
            </p>

            <h3 class="text-xl font-bold text-gray-800 mb-4" style="font-family: 'Signika', sans-serif;">
              What Does Your Donation Provide?
            </h3>

            <ul class="space-y-3 mb-6">
              <li class="flex items-start gap-3">
                <svg class="w-6 h-6 text-[#ea580c] flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                </svg>
                <span><strong>Nutritious iftar meal</strong> including dates, water, and a balanced meal</span>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-6 h-6 text-[#ea580c] flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                </svg>
                <span><strong>Community gatherings</strong> where people can break their fast together</span>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-6 h-6 text-[#ea580c] flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                </svg>
                <span><strong>Support for orphans, widows, and refugees</strong> who struggle to provide for themselves</span>
              </li>
              <li class="flex items-start gap-3">
                <svg class="w-6 h-6 text-[#ea580c] flex-shrink-0 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                </svg>
                <span><strong>Distribution in multiple countries</strong> where food insecurity is prevalent</span>
              </li>
            </ul>

            <h3 class="text-xl font-bold text-gray-800 mb-4" style="font-family: 'Signika', sans-serif;">
              Where Do We Distribute Iftar?
            </h3>

            <p class="mb-4">
              We distribute iftar meals across multiple countries including Pakistan, Bangladesh, Syria, Yemen, Somalia, and other regions where poverty and hunger are widespread. Our local partners ensure that meals reach the most vulnerable - orphans, widows, elderly, and displaced families.
            </p>

            <div class="bg-gray-50 rounded-xl p-6 mb-6">
              <h4 class="font-bold text-gray-800 mb-3">Your Impact:</h4>
              <ul class="space-y-2 text-sm">
                <li>$5 = 1 iftar meal</li>
                <li>$25 = 5 iftar meals</li>
                <li>$150 = Feed 1 person for entire Ramadan (30 days)</li>
                <li>$750 = Feed a family of 5 for entire Ramadan</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Right Column - Donation Box -->
        <div class="lg:sticky lg:top-24" data-mobile-donate>
          <div class="bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden">
            <div class="bg-gradient-to-r from-[#ea580c] to-[#f97316] p-6 text-center">
              <h3 class="text-2xl font-bold text-white mb-2" style="font-family: 'Signika', sans-serif;">
                Feed Iftar
              </h3>
              <p class="text-white/80 text-sm">$5 per meal</p>
            </div>

            <div class="p-6">
              <!-- Meals Selection -->
              <div class="mb-6">
                <label class="block text-sm font-semibold text-gray-700 mb-3">Number of Meals</label>
                <div class="grid grid-cols-4 gap-2 mb-3">
                  <button class="iftar-meals-btn py-3 border-2 border-gray-200 rounded-lg bg-white text-gray-700 font-bold text-sm hover:border-[#ea580c] transition" data-meals="1">1</button>
                  <button class="iftar-meals-btn py-3 border-2 border-gray-200 rounded-lg bg-white text-gray-700 font-bold text-sm hover:border-[#ea580c] transition" data-meals="5">5</button>
                  <button class="iftar-meals-btn py-3 border-2 border-[#ea580c] rounded-lg bg-[#ea580c]/10 text-[#ea580c] font-bold text-sm" data-meals="10">10</button>
                  <button class="iftar-meals-btn py-3 border-2 border-gray-200 rounded-lg bg-white text-gray-700 font-bold text-sm hover:border-[#ea580c] transition" data-meals="30">30</button>
                </div>
                <div class="relative">
                  <input type="number" id="iftar-custom-meals" min="1" placeholder="Custom number of meals" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#ea580c] focus:border-[#ea580c] outline-none transition" />
                </div>
              </div>

              <!-- Total Amount -->
              <div class="bg-[#ea580c]/10 rounded-xl p-4 mb-6 text-center">
                <p class="text-sm text-gray-600 mb-1">Total Amount</p>
                <p class="text-4xl font-bold text-[#ea580c]" id="iftar-total">$50</p>
                <p class="text-xs text-gray-500 mt-1"><span id="iftar-meals-display">10</span> meals x $5</p>
              </div>

              <!-- Special Packages -->
              <div class="border border-gray-200 rounded-lg p-4 mb-6">
                <p class="text-sm font-semibold text-gray-700 mb-3">Special Packages:</p>
                <div class="space-y-2">
                  <button class="iftar-package-btn w-full flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 transition text-left" data-meals="30">
                    <span class="text-sm">Feed 1 person for Ramadan</span>
                    <span class="text-sm font-bold text-[#ea580c]">$150</span>
                  </button>
                  <button class="iftar-package-btn w-full flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 transition text-left" data-meals="60">
                    <span class="text-sm">Feed 2 people for Ramadan</span>
                    <span class="text-sm font-bold text-[#ea580c]">$300</span>
                  </button>
                  <button class="iftar-package-btn w-full flex items-center justify-between p-2 rounded-lg hover:bg-gray-50 transition text-left" data-meals="150">
                    <span class="text-sm">Feed family of 5 for Ramadan</span>
                    <span class="text-sm font-bold text-[#ea580c]">$750</span>
                  </button>
                </div>
              </div>

              <!-- Add to Cart Button -->
              <button
                id="iftar-add-to-cart"
                class="w-full bg-[#ea580c] hover:bg-[#c2410c] text-white font-bold py-4 rounded-xl transition-all hover:scale-[1.02] flex items-center justify-center gap-2"
                style="font-family: 'Signika', sans-serif; box-shadow: 0 4px 15px rgba(234, 88, 12, 0.3);"
              >
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                </svg>
                Add Iftar Meals to Cart
              </button>

              <p class="text-center text-xs text-gray-500 mt-4">
                Earn the reward of every fast you help nourish
              </p>
            </div>
          </div>

          <!-- Quick Links -->
          <div class="mt-6 bg-gray-50 rounded-xl p-4">
            <p class="text-sm font-semibold text-gray-700 mb-3">Other Ramadan Giving:</p>
            <div class="space-y-2">
              <a href="/fidya" class="flex items-center justify-between p-3 bg-white rounded-lg hover:shadow-md transition">
                <span class="text-sm font-medium text-gray-700">Fidya</span>
                <span class="text-xs text-gray-500">$10/day</span>
              </a>
              <a href="/kaffarah" class="flex items-center justify-between p-3 bg-white rounded-lg hover:shadow-md transition">
                <span class="text-sm font-medium text-gray-700">Kaffarah</span>
                <span class="text-xs text-gray-500">$300</span>
              </a>
              <a href="/food-packs" class="flex items-center justify-between p-3 bg-white rounded-lg hover:shadow-md transition">
                <span class="text-sm font-medium text-gray-700">Food Packs</span>
                <span class="text-xs text-gray-500">From $50</span>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Impact Section -->
  <section class="py-16 bg-[#f8f9fa]">
    <div class="max-w-[1200px] mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-3xl font-bold text-gray-800 mb-4" style="font-family: 'Signika', sans-serif;">
          The Impact of Your <span class="text-[#ea580c]">Iftar</span> Donation
        </h2>
        <p class="text-gray-600 max-w-2xl mx-auto">
          Every meal you provide brings hope and nourishment to those struggling to survive.
        </p>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        <div class="bg-white rounded-2xl p-6 shadow-sm text-center">
          <div class="w-16 h-16 bg-[#ea580c]/10 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-[#ea580c]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-800 mb-2" style="font-family: 'Signika', sans-serif;">50,000+</h3>
          <p class="text-gray-600 text-sm">Meals served last Ramadan</p>
        </div>

        <div class="bg-white rounded-2xl p-6 shadow-sm text-center">
          <div class="w-16 h-16 bg-[#ea580c]/10 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-[#ea580c]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-800 mb-2" style="font-family: 'Signika', sans-serif;">15+</h3>
          <p class="text-gray-600 text-sm">Countries reached</p>
        </div>

        <div class="bg-white rounded-2xl p-6 shadow-sm text-center">
          <div class="w-16 h-16 bg-[#ea580c]/10 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <svg class="w-8 h-8 text-[#ea580c]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl font-bold text-gray-800 mb-2" style="font-family: 'Signika', sans-serif;">100%</h3>
          <p class="text-gray-600 text-sm">Of donations go to iftar</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-gradient-to-br from-[#ea580c] to-[#c2410c] relative overflow-hidden">
    <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/2"></div>
    <div class="absolute bottom-0 left-0 w-48 h-48 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/2"></div>

    <div class="relative z-10 max-w-4xl mx-auto px-4 text-center">
      <h2 class="text-3xl md:text-4xl font-bold text-white mb-6" style="font-family: 'Signika', sans-serif;">
        Be Part of Their Iftar Tonight
      </h2>
      <p class="text-lg text-white/80 mb-8 max-w-2xl mx-auto">
        As the sun sets and families gather to break their fast, let your generosity be the reason someone has food on their table.
      </p>
      <a
        href="/ramadan"
        class="inline-flex items-center gap-2 bg-white hover:bg-gray-100 text-[#ea580c] font-bold px-8 py-4 rounded-xl transition-all hover:scale-105"
        style="font-family: 'Signika', sans-serif;"
      >
        Explore All Ramadan Giving
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
        </svg>
      </a>
    </div>
  </section>

  <Footer />
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const mealsButtons = document.querySelectorAll('.iftar-meals-btn');
    const packageButtons = document.querySelectorAll('.iftar-package-btn');
    const customMealsInput = document.getElementById('iftar-custom-meals') as HTMLInputElement;
    const totalDisplay = document.getElementById('iftar-total');
    const mealsDisplay = document.getElementById('iftar-meals-display');
    const addToCartBtn = document.getElementById('iftar-add-to-cart');

    const IFTAR_RATE = 5;
    let selectedMeals = 10;

    function updateTotal() {
      const total = selectedMeals * IFTAR_RATE;
      if (totalDisplay) totalDisplay.textContent = `$${total}`;
      if (mealsDisplay) mealsDisplay.textContent = selectedMeals.toString();
    }

    function selectMeals(meals: number) {
      selectedMeals = meals;
      mealsButtons.forEach(btn => {
        btn.classList.remove('border-[#ea580c]', 'bg-[#ea580c]/10', 'text-[#ea580c]');
        btn.classList.add('border-gray-200', 'text-gray-700');
        if (parseInt(btn.getAttribute('data-meals') || '0') === meals) {
          btn.classList.add('border-[#ea580c]', 'bg-[#ea580c]/10', 'text-[#ea580c]');
          btn.classList.remove('border-gray-200', 'text-gray-700');
        }
      });
      updateTotal();
    }

    mealsButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const meals = parseInt(btn.getAttribute('data-meals') || '10');
        if (customMealsInput) customMealsInput.value = '';
        selectMeals(meals);
      });
    });

    packageButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        const meals = parseInt(btn.getAttribute('data-meals') || '10');
        if (customMealsInput) customMealsInput.value = '';
        selectMeals(meals);
      });
    });

    customMealsInput?.addEventListener('input', () => {
      const meals = parseInt(customMealsInput.value) || 1;
      selectedMeals = Math.max(1, meals);
      mealsButtons.forEach(btn => {
        btn.classList.remove('border-[#ea580c]', 'bg-[#ea580c]/10', 'text-[#ea580c]');
        btn.classList.add('border-gray-200', 'text-gray-700');
      });
      updateTotal();
    });

    addToCartBtn?.addEventListener('click', () => {
      const total = selectedMeals * IFTAR_RATE;

      if (typeof (window as any).addToCart === 'function') {
        (window as any).addToCart({
          id: `iftar-${selectedMeals}-${Date.now()}`,
          type: 'donation',
          name: 'Feed Iftar',
          amount: total,
          quantity: 1,
          description: `${selectedMeals} meals x $${IFTAR_RATE}`,
          frequency: 'single'
        });
      }
    });

    // Initialize
    updateTotal();
  });
</script>
